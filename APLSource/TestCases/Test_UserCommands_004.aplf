 R←Test_UserCommands_004(stopFlag batchFlag);⎕TRAP;rc;msg;res1;res3;res4;res5;res
⍝ Exercise ]Tatin.ListVersions but requires a user
 ⎕TRAP←(999 'C' '. ⍝ Deliberate error')(0 'N')
 R←T._Failed

 ⎕SE._Tatin.Client.CommTools.Select_Choices←1 2⍴'Please select a Registry:' 'https://tatin.dev/'
 (rc msg res)←∆UCMD'ListVersions ?'
 →T.GoToTidyUp~(rc=0)∧0=≢msg
 →T.GoToTidyUp 0=≢res
 →T.GoToTidyUp res≢res

 ⎕SE._Tatin.Client.CommTools.Select_Choices←1 2⍴'Please select a Registry:' 'q'
 (rc msg res)←∆UCMD'ListVersions ?'
 →T.GoToTidyUp'Cancelled by user'≢res

 R←T._OK

∆TidyUp:
 ⎕SE._Tatin.Client.CommTools.Cleanup
⍝Done
