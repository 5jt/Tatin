 r←Test_Uninstall_007(stopFlag batchFlag);⎕TRAP;dir;dir2;list;msg;qdmx
⍝ Uninstall a package by {group}-{name} that does not exist
 ⎕TRAP←(999 'C' '. ⍝ Deliberate error')(0 'N')
 r←T._Failed

 dir←GetTempDir''
 dir ⎕NCOPY'TestData/UnInstall/'
 dir2←dir,'/UnInstall'

 :Trap 98
     (list msg)←TC.UnInstallPackage dir2'Does-NotExist'
     →T.GoToTidyUp 1
 :Else
     qdmx←⎕DMX
     →T.GoToTidyUp'Invalid package ID'≢qdmx.EM
 :EndTrap

 r←T._OK

∆TidyUp:
 Assert 0=⊃F.RmDir dir
 #.⎕EX TC.GetTatinRootSpace'#'
⍝Done
