<!DOCTYPE html>
<html lang="en" style="scroll-behavior:smooth" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta charset="utf-8">
<title>Tatin Installing and Updating</title>
<style media="screen">
html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;}body{margin:0;}article,aside,footer,header,nav,section{display:block;}h1{font-size:2em;margin:0.67em 0;}figcaption,figure,main{display:block;}figure{margin:1em 40px;}hr{box-sizing:content-box;height:0;overflow:visible;}pre{font-family:monospace, monospace;font-size:1em;}a{background-color:transparent;-webkit-text-decoration-skip:objects;}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted;}b,strong{font-weight:inherit;}b,strong{font-weight:bolder;}code,kbd,samp{font-family:monospace, monospace;font-size:1em;}dfn{font-style:italic;}mark{background-color:#ff0;color:#000;}small{font-size:0.8em;}sub,sup{font-size:0.75em;line-height:0;position:relative;vertical-align:baseline;}sub{bottom:-0.25em;}sup{top:-0.5em;}audio,video{display:inline-block;}audio:not([controls]){display:none;height:0;}img{border-style:none;}svg:not(:root){overflow:hidden;}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:1em;line-height:1.15;margin:0;}button,input{overflow:visible;}button,select{text-transform:none;}button,html [type="button"], [type="reset"],[type="submit"]{-webkit-appearance:button;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText;}fieldset{padding:0.35em 0.75em 0.625em;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{display:inline-block;vertical-align:baseline;}textarea{overflow:auto;}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto;}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px;}[type="search"]::-webkit-search-cancel-button,[type="search"]::-webkit-search-decoration{-webkit-appearance:none;}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}details, menu{display:block;}summary{display:list-item;}canvas{display:inline-block;}template{display:none;}[hidden]{display:none;}body{margin:0;font-family:"Bookman Old Style", "Callisto MT", Bookman, "Goudy Old Style", Garamond, serif;background-color:#fdfdfd;font-size:18px;line-height:1.4;max-width:900px;padding:0.83em;color:#292929;word-wrap:break-word;overflow-wrap:break-word;}h1, h2, h3, h4, h5, h6{color:#404040;font-weight:800;padding-left:0;}h1, h2, h3, h4, h5, h6{font-family:"Century Gothic", Verdana, "Sans";}h1, h2, h3, h4, p{margin-bottom:0.88em;}h1{font-size:1.8em;margin:0.27em 0 1.11em 0;}h1 > code, h2 > code, h3 > code, h4 > code, h5 > code, h6 > code{font-size:1em;background-color:inherit;}h2{font-size:1.44em;margin:0.55em 0 0.55em 0;padding-top:0.55em;border-bottom:1px solid Silver;}h3{margin:0;margin-top:0.55em;font-size:1.22em;}nav h3{font-size:0.88em;margin-left:0.83em;margin-bottom:0.27em;}h4{font-size:1em;margin:0;margin-top:0.55em;}h5{font-size:0.94em;margin:0;margin-top:0.66em;padding:0;}h6{font-size:0.88em;margin:0;margin-top:0.66em;padding:0;}a{color:#0099ff;margin:0;padding:0;vertical-align:baseline;}a:visited{color:purple;}a.autoheader_anchor{text-decoration:none;}ul{list-style-type:disc;}dd{padding-top:0.25em;}p.first_dd{padding-top:0.25em;}li > ul, ol{padding-bottom:0;}li{line-height:1.3;margin-left:1.38em;margin-bottom:0.55em;}ul > li{margin-left:2.5em;}ol > li{margin-left:2.5em;}li ul{margin-left:0.55em;}li ul{margin-left:0.27em;}li p{padding:1px 0 0 0;margin:0.55em 0 0.27em 0;line-height:1.3;}ul, ol{line-height:1.3;padding:0.33em 0 0 0;margin:0.5em;margin-top:1.2em;}p{line-height:1.2;padding:0.40em 0 0 0;margin:0;}pre{overflow:scroll;padding:0.55em 0.27em;margin:0.55em 0 0.55em 0 !important;background-color:#faebd7;color:#3e3e3e;border:1px Silver dashed;display:block;font-family:APLFont, monospace;font-weight:normal;white-space:pre-wrap;}pre > code{line-height:1.2;border:0;padding:0;margin:0;background-color:inherit;color:inherit;font-weight:inherit;white-space:pre-wrap;}td code{padding:0;}a code{padding:0;font-size:1em;}nav code{background-color:inherit;font-weight:400;color:inherit;}code{font-family:APLFont, monospace;color:Black;font-weight:800;line-height:1.2;font-size:0.88em;margin:0;color:#950000;padding:0 0.16em;}tbody tr:nth-child(even){background-color:#F0F0F0;}th{background-color:#E6E6E6;color:black;}th, td{padding:0.16em 0.55em;vertical-align:top;}table td + td{border-left:1px solid gray;}table th + th{border-left:1px solid gray;}table{border-color:Black;margin:1.5em 0;border:2px black;border-collapse:collapse;font-family:APLFont;font-size:0.88em;line-height:1.2;border:1px solid Gray;}li > table{margin:0.55em 0 0.55em 0;}tr{margin:1.11em;}th{font-weight:bold;}tfoot td{font-weight:bold;}blockquote{border-left:0.27em solid silver;padding-left:0.27em;margin:0.83em 0.27em 0.83em 0.55em;}blockquote ul li{margin-left:1.38em;}blockquote ol li{margin-left:1.38em;}li > blockquote{margin-left:0;}nav{background-color:#f5f5f5;border:1px solid Black;padding:0.55em;margin:0.55em;margin-right:0;box-shadow:0.27em 0.27em 0.27em Gray;overflow:hidden;clear:both;}nav#main_nav{position:fixed;top:0;right:0.55em;float:none;width:auto;}nav#main_nav_no_collapse li{font-size:0.77rem;}nav#main_nav_no_collapse li{line-height:1.5;}nav ul{list-style-type:none;margin:0 0 0.11em 0;padding:0;}nav a:visited{color:black;}nav ul li{margin-bottom:0.16em;}nav li p{margin:0;padding:0;line-height:1;margin:0;padding:0;}nav li{font-size:0.75rem;line-height:1.3;padding:0;margin-top:0;margin-bottom:0;margin-left:0.83em;}nav p{font-weight:bold;font-size:0.75rem;padding-top:0;}dl{margin-top:0.1em;margin-bottom:0.1em;}dt{margin-top:0.75em;margin-bottom:0.1em;font-weight:800;}label#hide_toc_label{font-size:0.8em;}.toc-container{position:relative;height:auto;}div.toc-container h1{font-size:0.88em;margin:0.27em 0 0.27em 0;}[type="checkbox"]{position:absolute;left:-9999px;}label{display:block;width:100%;height:1.1em;cursor:pointer;top:0;padding-left:1.1em;}label:before{content:'Table of contents \25BC';font-weight:bold;font-size:90%;padding-bottom:0;}[type="checkbox"] ~ div{display:none;}[type="checkbox"]:checked ~ div{display:block;margin-top:1.1em;}[type="checkbox"]:checked + label{top:100%;}[type="checkbox"]:checked + label:before{content:'Table of contents ▲';}div#footnotes_div p{line-height:1;padding-bottom:0;padding-top:0;}div#footnotes_div ol{padding-top:0;}@font-face{font-family:"APLFont";src:local("APL385 Unicode"), url("https://misc.aplteam.com/apl385.ttf") format("truetype");}.no_display{display:none;}.red{color:red;}.center{text-align:center;margin-left:auto;margin-right:auto;}.left{text-align:left;margin-right:0 auto;}.right{text-align:right;margin-left:0 auto;}img{margin-top:0.55em;margin-bottom:0.27em;}div.leanpub{padding:0.83em 0.55em 1.11em 0;margin:0.55em 0 0 0.27em;overflow:auto;}div.leanpub_A{border:1px solid black;background-color:#f1f1f1;padding:0.55em;margin:1.11em 0 0.83em 0;}div.leanpub h3, div.leanpub_A h3{font-size:1.2em;padding:0;margin:0;}div.leanpub h4, div.leanpub_A h4{font-size:1.1em;padding:0.27em 0 0 0;margin:0;}div.leanpub h5, div.leanpub h5{font-size:1.0em;padding:0.27em 0 0 0;margin:0;}div.leanpub_A h5, div.leanpub_A h5{font-size:1.0em;padding:0.27em 0 0 0;margin:0;}div.leanpub img{padding:0;margin:0 1.11em 0.27em 0;}div.leanpub_A > p:first-child{padding-top:0;margin-top:0;}div.leanpub img{float:left;padding:0;margin:0.55em 1.11em 0 0;clear:both;}div.leanpub tbody *{background-color:transparent;}div.leanpub p{padding:0.17em 0 0 0;margin:0;}span.leanpub_code{color:Red;}div.leanpub p{display:block;padding:0.44em 0 0 0;}div.leanpub > div{margin-left:2.27em;}.print_only{display:none;}
</style>
<style media="print">
@page{margin:25mm 20mm 25mm 20mm;}body{font-family:"Bookman Old Style", "Callisto MT", Bookman,"Goudy Old Style", Garamond, serif;font-size:9pt;line-height:1.2;}h1{font-size:170%;}h2{font-size:110%;}h3{font-size:110%;}h4{font-size:105%;}h5{font-size:100%;}h6{font-size:95%;}h1{margin:0 0 20pt 0;}h2{margin:15pt 0 3pt 0;}h3{margin:10pt 0 0pt 0;}h4{margin:10pt 0 0pt 0;}h5{margin:9pt 0 0pt 0;}h6{margin:9pt 0 0pt 0;}h1, h2, h3, h4, h5, h6{color:black;font-family:"Century Gothic", Verdana, "Sans";page-break-after:avoid;}h1 > code, h2 > code, h3 > code, h4 > code, h5 > code, h6 > code{font-size:100%;}h2{border-bottom:1pt solid Silver;padding-bottom:2pt;}.h_tag{page-break-after:avoid;break-after:avoid;}abbr[title]{border-bottom:0;text-decoration:none;}a{color:black;margin:0;padding:0;vertical-align:baseline;text-decoration:none;font-style:italic;}a.autoheader_anchor{text-decoration:none;font-style:normal;page-break-after:avoid;break-after:avoid;}ul{list-style-type:square;}ul, ol{padding:0;margin:0;margin-top:10pt;}li > ul, ol{padding-bottom:0;}li{line-height:1.3;margin-left:13pt;margin-bottom:5pt;}ul > li{margin-left:25pt;}ol > li{margin-left:25pt;}li ul{margin-left:5pt;}li ul{margin-left:3pt;}li p{padding:1pt 0 0 0;margin:5pt 0 3pt 0;line-height:1.3;}p, ul, ol{line-height:1.3;padding:4pt 0 0 0;margin:0;color:black;}ul, ol{margin-top:0.75em;}pre{padding:3pt;margin:5pt 0;white-space:pre-wrap;background-color:#FAFAFA;border:1pt Silver solid;display:block;font-family:APLFont, monospace;page-break-inside:avoid;}pre code{background-color:#FAFAFA;color:Black;padding:0;margin:0 0 -6pt 0;line-height:1.1;border:0;white-space:pre-wrap;}code{font-family:APLFont, monospace;line-height:1.2;font-size:9pt;padding:3pt 1pt 3pt 1pt;color:#950000;padding:3pt 0pt 3pt 0pt;margin:0;}tbody th, tfoot tr{background-color:#e6e6e6;}tbody tr:nth-child(even){background-color:#fafafa;}th{background-color:#F0F0F0;}th, td{padding:1pt 5pt;border:1px solid #E3E3E3;vertical-align:top;}table td + td{border-left:1px solid gray;}table th + th{border-left:1px solid gray;}table code{font-style:normal;padding-left:0;padding-right:0;}table{margin:1.5em 0;font-family:APLFont;font-size:9pt;padding:0;border:1pt solid silver;border-collapse:collapse;}li > table{margin:10pt 0 10pt 0;}tr{margin:20pt;}th{font-weight:bold;}tfoot td{font-weight:bold;}blockquote{border-left:5pt solid silver;padding-left:5pt;margin:8pt 3pt 8pt 8pt;}nav{background-color:#f8f8f8;border:1pt solid Gray;width:auto;float:right;padding:5pt 5pt 5pt 0;margin:5pt 0 5pt 5pt;page-break-inside:avoid;break-inside:avoid;clear:both;overflow:hidden;}nav *{font-size:75%;}nav ul{list-style-type:none;margin:0 0 2pt 0;padding:0;}nav ul li{margin-bottom:0;}nav li p{margin:0;padding:0;line-height:1;margin:0;padding:0;}nav li{font-size:9pt;line-height:1;padding:0;margin-top:0;margin-bottom:0;margin-left:8pt;}dl{margin-top:0;margin-bottom:10pt;}dt{margin-top:10pt;margin-bottom:0;font-weight:800;page-break-inside:avoid;}dd{margin-top:2pt;}label#hide_toc_label{font-size:65%;}.toc-container{position:relative;height:auto;margin-top:2pt;background-color:inherit;}.toc-container h3{margin:0 0 2pt 7pt;}[type="checkbox"]{display:none;}label{display:block;width:100%;height:1.1em;top:0;padding-left:10pt;}label:before{content:'Table of contents';font-weight:bold;font-size:140%;padding-bottom:10pt;}a.external_link::before{content:" 🌎";}a.bookmark_link::before{content:" ➯";}a.mailto_link::before{content:" ✉"}nav a.bookmark_link{font-style:normal;}nav p{margin-left:10pt;font-weight:bold;font-size:9pt;}nav a{font-style:normal;}nav a.bookmark_link::before{content:"";}div#footnotes_div a::before{content:"";}div#footnotes_div a{font-style:normal;}div#footnotes_div{page-break-inside:avoid;}@font-face{font-family:"APLFont";src:local("APL385 Unicode"), url("https://misc.aplteam.com/apl385.ttf") format("truetype");}.no_print{display:none;}.red{color:red;}.center{text-align:center;margin:0 auto;}.left{text-align:left;margin-right:0 auto;}.right{text-align:right;margin-left:0 auto;}.avoid_page_break{page-break-inside:avoid;}.page_break_before{page-break-before:always;}div.leanpub{margin:10pt 0 10pt 8pt;page-break-inside:avoid;}div.leanpub_A{border:1pt solid black;background-color:#f9f9f9;padding:5pt;margin:10pt 0 10pt 0;page-break-inside:avoid;}div.leanpub h3, div.leanpub_A h3{font-size:1.2em;padding:3pt 0 0 0;margin:0;}div.leanpub h4, div.leanpub_A h4{font-size:1.1em;padding:3pt 0 0 0;margin:0;}div.leanpub h5, div.leanpub h5{font-size:1.0em;padding:3pt 0 0 0;margin:0;}div.leanpub_A h5, div.leanpub_A h5{font-size:1.0em;padding:3pt 0 0 0;margin:0;}div.leanpub img{padding:0;margin:0 10pt 2pt 0;}div.leanpub_A > p:first-child{padding-top:0;margin-top:0;}div.leanpub > div > h1:first-child{padding-top:5pt;}div.leanpub img{float:left;padding:0;margin:5pt 10pt 0 0;clear:both;}div.leanpub p{padding:3pt 0 0 0;margin:0;}span.leanpub_code{font-weight:bold;}div.leanpub p{display:block;padding:8pt 0 0 0;}div.leanpub > div{margin-left:35pt;}sup{font-size:0.75em;line-height:0;position:relative;vertical-align:baseline;top:-0.4em;}
</style>

</head>
<body>
<nav id="main_nav">
<input type="checkbox" id="hide_toc">
<label id="hide_toc_label" for="hide_toc"></label>
<div class="toc-container">
<ul>
<li><a href="#Introduction">1. Introduction</a></li>
<li><a href="#Requirements">2. Requirements</a></li>
<li><a href="#How-to-activate-Tatin-in-190">3. How to activate Tatin in 19.0</a></li>
<li><a href="#Updating-Tatin-in-180-and-182">4. Updating Tatin in 18.0 and 18.2</a></li>
<li><a href="#How-to-install-in-180-and-182">5. How to install in 18.0 and 18.2</a>
<ul>
<li><a href="#Tell-Dyalog-where-to-look-for-user-commands">5.1. Tell Dyalog where to look for user commands</a></li>
</ul></li>
<li><a href="#Initializing-Tatin">6. Initializing Tatin</a></li>
<li><a href="#On-setupdyalog">7. On <code>setup.dyalog</code></a>
<ul>
<li><a href="#There-is-no-such-script-yet">7.1. There is no such script yet</a></li>
<li><a href="#There-is-already-such-a-script">7.2. There is already such a script</a></li>
</ul></li>
<li><a href="#Updating-Tatin">8. Updating Tatin</a>
</ul>
</div>
</nav>
<div class="h_tag">
<a href="#Installing-and-Updating-the-Tatin-Client" id="Installing-and-Updating-the-Tatin-Client" class="autoheader_anchor">
<h1 data-id="Installing-and-Updating-the-Tatin-Client">Installing and Updating the Tatin Client</h1>
</a>
</div>
<div class="h_tag">
<a href="#Introduction" id="Introduction" class="autoheader_anchor">
<h2 data-id="Introduction">1. Introduction</h2>
</a>
</div>
<p>You don't need to worry about installing Tatin if you use version 19.0 of Dyalog: In 19.0 Tatin just needs to be activated.</p>
<p>In 18.0 and 18.2 you need to install Tatin yourself.</p>
<div class="h_tag">
<a href="#Requirements" id="Requirements" class="autoheader_anchor">
<h2 data-id="Requirements">2. Requirements</h2>
</a>
</div>
<ul>
<li>Tatin needs a Unicode version of Dyalog</li>
<li>Dyalog version 18.0 or better</li>
<li>Link version 3.0.8 or better</li>
</ul>
<p>Note that when you call <code>]Tatin.Init</code>, Tatin will check whether those requirements are met.</p>
<div class="h_tag">
<a href="#How-to-activate-Tatin-in-190" id="How-to-activate-Tatin-in-190" class="autoheader_anchor">
<h2 data-id="How-to-activate-Tatin-in-190">3. How to activate Tatin in 19.0</h2>
</a>
</div>
<p>In order to activate Tatin, execute</p>
<pre><code>]Activate -??</code></pre>
<p>and follow the instructions.</p>
<div class="h_tag">
<a href="#Updating-Tatin-in-180-and-182" id="Updating-Tatin-in-180-and-182" class="autoheader_anchor">
<h2 data-id="Updating-Tatin-in-180-and-182">4. Updating Tatin in 18.0 and 18.2</h2>
</a>
</div>
<div class="leanpub_A">
<h3>You've installed Tatin before</h3>
<p>In that case you need to perform some action, depending on the version of Tatin you've have installed</p>
<h4>Tatin version 0.100.1 and earlier</h4>
<p>0.100.1 and ealier version were installed into the <code>MyUCMDs/</code> folder.</p>
<p>That has changed: it's now installed into a different folder. Please delete it from <code>MyUCMDs/</code>.</p>
<h4>Any Tatin version 0.101.0 and 0.100.1</h4>
<p>These versions told you to install Tatin into</p>
<pre><code>C:\Users\&lt;⎕AN&gt;\Documents\Dyalog APL[-64] 18.2 Unicode Files\StartupSession\CiderTatin\Tatin</code></pre>
<p>or an equivalent on Linux or Mac OS.</p>
<p>This was the wrong folder: please delete it.</p>
<h4>Tatin version 0.102.0</h4>
<p>These versions told you to install Tatin into</p>
<pre><code>C:\Users\&lt;⎕AN&gt;\Documents\Dyalog APL[-64] 18.2 Unicode Files\StartupSession\CiderTatin\Tatin</code></pre>
<p>or an equivalent on Linux or Mac OS.</p>
<p>This was the wrong folder: please delete <code>CiderTatin\</code>.</p>
</div>

<p>From version 0.102.1 onwards, Tatin must be installed into one of these folders:</p>
<pre><code>  ⍝ Windows
C:\Users\&lt;⎕AN&gt;\Documents\Dyalog APL[-64] &lt;version&gt; Unicode Files\SessionExtensions\CiderTatin
  ⍝ Linux
/home/&lt;⎕AN&gt;/dyalog.&lt;version&gt;U&lt;bit&gt;.files/SessionExtensions/CiderTatin
  ⍝ Mac OS
Users/&lt;⎕AN&gt;/dyalog.&lt;version&gt;U&lt;bit&gt;.files/SessionExtensions/CiderTatin</code></pre>
<p>However, your old version's <code>]Tatin.UpdateTatin</code> cannot know this, and must therefore not be used.</p>
<p>Once you have Tatin 0.102.1 installed in the right place you can use <code>]Tatin.UpdateTatin</code> again.</p>
<div class="h_tag">
<a href="#How-to-install-in-180-and-182" id="How-to-install-in-180-and-182" class="autoheader_anchor">
<h2 data-id="How-to-install-in-180-and-182">5. How to install in 18.0 and 18.2</h2>
</a>
</div>
<p>Instructions:</p>
<ol start="1">
<li>Download the latest release of the Tatin client from <a href="https://github.com/aplteam/Tatin/releases" class="external_link">https://github.com/aplteam/Tatin/releases</a></li>
<li>Unzip it into the target folder
<p>As a result you should see something like this:</p>
<p><code>...\Dyalog APL[-64] &lt;version&gt; Unicode Files\SessionExtensions\CiderTatin\Tatin</code></p></li>
</ol>
<div class="h_tag">
<a href="#Tell-Dyalog-where-to-look-for-user-commands" id="Tell-Dyalog-where-to-look-for-user-commands" class="autoheader_anchor">
<h3 data-id="Tell-Dyalog-where-to-look-for-user-commands">5.1. Tell Dyalog where to look for user commands</h3>
</a>
</div>
<p>Though Tatin's user command script is now in place, Dyalog does not know yet about it. For that we have to add the folder to SALT's search path. This step needs to be carried out only once for any installed version 18.0 or 18.2</p>
<p>Execute one of the following commands:</p>
<pre><code>  ⍝ Windows
  ⍝ 18.0 64-bit:
]SALT.Settings cmddir ",C:\Users\&lt;⎕AN&gt;\Documents\Dyalog APL-64 18.0 Unicode Files\SessionExtensions\CiderTatin" -p
  ⍝ 18.0 32-bit:
]SALT.Settings cmddir ",C:\Users\&lt;⎕AN&gt;\Documents\Dyalog APL 18.0 Unicode Files\SessionExtensions\CiderTatin"    -p
  ⍝ 18.2 64-bit
]SALT.Settings cmddir ",C:\Users\&lt;⎕AN&gt;\Documents\Dyalog APL-64 18.2 Unicode Files\SessionExtensions\CiderTatin" -p
  ⍝ 18.2 32-bit
]SALT.Settings cmddir ",C:\Users\&lt;⎕AN&gt;\Documents\Dyalog APL 18.2 Unicode Files\SessionExtensions\CiderTatin"    -p

  ⍝ Linux &amp; Mac OS
  ⍝ 18.0
]SALT.Settings cmddir ",/home/&lt;⎕AN&gt;/dyalog.180U64.files/SessionExtensions/CiderTatin -p
  ⍝ 18.2
]SALT.Settings cmddir ",/home/&lt;⎕AN&gt;/dyalog.180U64.files/SessionExtensions/CiderTatin -p

  ⍝ Mac OS
  ⍝ 18.0
]SALT.Settings cmddir ",/Users/&lt;⎕AN&gt;/dyalog.182U64.files/SessionExtensions/CiderTatin" -p
  ⍝ 18.2
]SALT.Settings cmddir ",/Users/&lt;⎕AN&gt;/dyalog.182U64.files/SessionExtensions/CiderTatin" -p</code></pre>
<div class="leanpub">
<img src="https://download.aplwiki.com/LeanPub/Images/warning.png" alt="Warning">
<div>
<p>Note the comma (<code>,</code>) in front of the path: it tells SALT to <em>add</em> the path, rather than using it as a replacement.</p>
</div>
</div>

<div class="leanpub">
<img src="https://download.aplwiki.com/LeanPub/Images/information.png" alt="Information">
<div>
<p>The <code>-p</code> stand for “permanent”; this makes sure your addition to the search path is permanent.</p>
</div>
</div>

<p>Any newly started version of Dyalog now comes with the user command <code>]Tatin.*</code>.</p>
<p>There is no point in having a function <code>Run.aplf</code> in place with 18.0 and 18.2: only in 19.0 did Dyalog add the feature that a function <code>Run.aplf</code> will be loaded and executed as part of Dyalog's bootstrapping procedure. In earlier versions such a function is not executed.</p>
<p>As a side effect of executing any of the Tatin user commands the Tatin API will become available via <code>⎕SE.Tatin</code>.</p>
<p>If you want the Tatin API to be available right from the start: this is discussed next.</p>
<div class="h_tag">
<a href="#Initializing-Tatin" id="Initializing-Tatin" class="autoheader_anchor">
<h2 data-id="Initializing-Tatin">6. Initializing Tatin</h2>
</a>
</div>
<p>Once installed, any suitable version of Dyalog will provide a list of the Tatin user commands once you enter:</p>
<pre><code>      ]tatin -?</code></pre>
<p>The script <code>Tatin.dyalog</code> is the interface between the Dyalog user command framework and the Tatin API.</p>
<p>When any of the Tatin user commands is executed, it will check whether the API is already loaded. If it's not available yet, it will be loaded.</p>
<div class="h_tag">
<a href="#On-setupdyalog" id="On-setupdyalog" class="autoheader_anchor">
<h2 data-id="On-setupdyalog">7. On <code>setup.dyalog</code></h2>
</a>
</div>
<p>You might want the Tatin API to be around right from the start, so that you can invoke any of the Tatin API functions without first executing a Tatin user commands.</p>
<div class="leanpub">
<img src="https://download.aplwiki.com/LeanPub/Images/information.png" alt="Information">
<div>
<p>What is the application for this? Well, you might want to have an automated build process available right from the start, for example.</p>
<p>If you are not interested in this, or use 19.0 or later, skip this and carry on with “Updating Tatin”.</p>
</div>
</div>

<p>The way to achieve this goal requires the introduction or modification of a file <code>setup.dyalog</code> in your <code>MyUCMDs/</code> folder.</p>
<p>Where to find the <code>MyUCMDs/</code> folder depends on your operating system</p>
<ul>
<li>On Windows it's usually <code>C:\Users\{username}\Documents\</code></li>
<li>On Linux (including the PI) it is <code>/home/{username}/</code></li>
<li>On Mac OS it is <code>/Users/{username}/</code></li>
</ul>
<p>Note that only on Windows is the folder created as part of the installation routine. On other platforms you must create the folder yourself.</p>
<div class="leanpub_A">
<h3>How does <code>setup.dyalog</code> work?</h3>
<p>Whenever an instance of Dyalog is fired up, it checks whether such a script exists. If that is the case it checks whether there is a function <code>Setup</code>.</p>
<p>If there is such a function then it is expected to be monadic; it will be executed automatically as part of the instantiating process of Dyalog APL.</p>
<p>This can be used for many things like…</p>
<ul>
<li>making changes to the session</li>
<li>specifying function keys</li>
<li>loading stuff into <code>⎕SE</code></li>
</ul>
<p>In version 19.0 the <code>Run.aplf</code> function offers a better way to achieve that, rendering <code>setup.dyalog</code> superfluous.</p>
</div>

<div class="h_tag">
<a href="#There-is-no-such-script-yet" id="There-is-no-such-script-yet" class="autoheader_anchor">
<h3 data-id="There-is-no-such-script-yet">7.1. There is no such script yet</h3>
</a>
</div>
<p>Create one that looks like this:</p>
<pre><code>:Namespace SetItUp

    ∇ {r}←Setup arg;⎕IO;⎕ML;dmx
      r←⍬
      ⎕IO←1 ⋄ ⎕ML←1
      :Trap ⎕SE.SALTUtils.DEBUG↓0
          ⎕←AutoloadTatin ⎕SE.SALTUtils.DEBUG
      :Else
          dmx←⎕DMX
          ⎕←'Setup.dyalog has a problem and was not executed successfully:'
          ⎕←↑'  '∘,¨dmx.DM
      :EndTrap
    ∇

    ∇ r←AutoloadTatin debug;wspath;path2Config
      r←0 0⍴''
      :Trap debug/0
          :If 0=⎕SE.⎕NC'_Tatin'  ⍝ In 19.0 it most likely will already be there!
              :If ~IfAtLeastVersion 18
                  r←'Tatin not loaded: not compatible with this version of Dyalog'
              :ElseIf 80≠⎕DR' '              ⍝ Not in "Classic"
                  r←'Tatin not loaded: not compatible with Classic'
              :Else
                  ⎕SE.⎕EX¨'_Tatin' 'Tatin'
                  wspath←1 GetProgramFilesFolder '/SessionExtensions/CiderTatin/Tatin/Client.dws'
                  '_Tatin'⎕SE.⎕CY wspath
                  path2Config←⊃⎕nparts ⎕SE._Tatin.Client.FindUserSettings ⎕AN
                  'Create!'⎕SE._Tatin.Client.F.CheckPath path2Config
                  'Tatin'⎕SE.⎕NS''
                  path2Config ⎕SE._Tatin.Admin.EstablishClientInQuadSE ⍬
              :EndIf
          :EndIf
      :Else
          r←'Attempt to load Tatin failed with ',⎕DMX.EM
      :EndTrap
    ∇

      IfAtLeastVersion←{
      ⍝ ⍵ is supposed to be a number like 15 or 17.1, representing a version of Dyalog APL.
      ⍝ Returns a Boolean that is 1 only if the current version is at least as good.
          ⍵≤{⊃(//)⎕VFI ⍵/⍨2&gt;+\'.'=⍵}2⊃# ⎕WG'APLVersion'
      }

    ∇ r←{versionAgnostic}GetProgramFilesFolder postFix;version;aplVersion;OS
      ⍝ Returns the path to Dyalog's version-specific program files folder.\\
      ⍝ Works on all platforms but returns different results.\\
      ⍝ Under Windows typically:\\
      ⍝ `C:\Users\&lt;⎕AN&gt;\Documents\Dyalog APL[-64] 19.0 Unicode Files' ←→ GetMyUCMDsFolder
      ⍝ ⍺ is optional and defaults to 0, meaning the version-agnostic folder is returned.
      ⍝ If ⍺←1, the folder associated with the currently running version of Dyalog is returned.
       versionAgnostic←{0&lt;⎕NC ⍵:⍎⍵ ⋄ 0}'versionAgnostic'
       OS←3↑1⊃# ⎕WG'APLVersion'
       postFix←{(((~'/\'∊⍨⊃⍵)∧0≠≢⍵)/'/'),⍵}postFix
       aplVersion←# ⎕WG'APLVersion'
       :If versionAgnostic
           :If OS≡'Win'
               version←((∨/'-64'⍷1⊃aplVersion)/'-64'),' ',({⍵/⍨2&gt;+\⍵='.'}2⊃aplVersion),' ',(80=⎕DR' ')/'Unicode'
               r←(2 ⎕NQ #'GetEnvironment' 'USERPROFILE'),'\Documents\Dyalog APL',version,' Files',postFix
           :Else
               version←({'.'~⍨⍵/⍨2&gt;+\⍵='.'}2⊃aplVersion),((80=⎕DR' ')/'U'),((1+∨/'-64'⍷1⊃aplVersion)⊃'32' '64')
               r←(⊃⎕SH'echo $HOME'),'/dyalog.',version,'.files',postFix
           :EndIf
       :Else
           :If OS≡'Win'
               r←(2 ⎕NQ #'GetEnvironment' 'USERPROFILE'),'\Documents\Dyalog APL Files',postFix
           :Else
               r←(⊃⎕SH'echo $HOME'),'/dyalog.files',postFix
           :EndIf
       :EndIf
   ∇

:EndNamespace</code></pre>
<div class="h_tag">
<a href="#There-is-already-such-a-script" id="There-is-already-such-a-script" class="autoheader_anchor">
<h3 data-id="There-is-already-such-a-script">7.2. There is already such a script</h3>
</a>
</div>
<p>Copy the functions <code>IfAtLeastVersion</code>, <code>GetProgramFilesFolder</code> and <code>AutoLoadTatin</code> from above into your own <code>setup.dyalog</code> script and then make sure that <code>AutoLoadTatin</code> is called from your <code>Setup</code> function.</p>
<div class="h_tag">
<a href="#Updating-Tatin" id="Updating-Tatin" class="autoheader_anchor">
<h2 data-id="Updating-Tatin">8. Updating Tatin</h2>
</a>
</div>
<p>Just execute:</p>
<pre><code>]Tatin.UpdateTatin</code></pre>
<p>If there is a later version available all necessary steps will be executed; eventually the new version number will be reported.</p>
<p>Notes:</p>
<ul>
<li>Due to the massive change of the installation process you cannot use <code>]Tatin.UpdateTatin</code> to update any version before 0.102.0</li>
<li>The command will put the release notes on display</li>
<li>This feature was introduced in 0.78.1, so it's not available in earlier versions
<p>Note that the API equivalent <code>⎕SE.Tatin.Update 0</code> was introduced in 0.78.0.</p></li>
<li>Although Tatin is updated on disk, the workspace from which the command was executed is not for technical reasons — start a new instance of Dyalog to get the latest version</li>
</ul>
</body>
</html>
