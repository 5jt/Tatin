<!DOCTYPE html>
<html lang="en" style="scroll-behavior:smooth" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta charset="utf-8">
<title>Tatin for Contributors</title>
<style media="screen">
html{-webkit-text-size-adjust:100%;}body{margin:0;}main{display:block;}h1{font-size:2em;margin:0.67em 0;}hr{box-sizing:content-box;height:0;overflow:visible;}pre{font-family:monospace, monospace;font-size:1em;}a{background-color:transparent;}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted;}b,strong{font-weight:bolder;}code,kbd,samp{font-family:monospace, monospace;font-size:1em;}small{font-size:80%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sub{bottom:-0.25em;}sup{top:-0.5em;}img{border-style:none;}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;}button,input{overflow:visible;}button,select{text-transform:none;}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText;}fieldset{padding:0.35em 0.75em 0.625em;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{vertical-align:baseline;}textarea{overflow:auto;}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto;}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px;}[type="search"]::-webkit-search-decoration{-webkit-appearance:none;}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}details{display:block;}summary{display:list-item;}template{display:none;}[hidden]{display:none;}body{margin:0;font-family:Arial, sans-serif;background-color:#323232;font-size:18px;max-width:900px;padding:0.83em;color:#DDD;margin-left:auto;margin-right:auto;overflow-wrap:break-word;line-height:1.4;}h1,h2,h3,h4,h5,h6{color:hsl(39,97%,83%);padding-left:0;}h1,h2,h3,h4{margin-bottom:0.88em;}h1{font-size:1.8em;margin:0.27em 0 1.11em 0;}h1 > code,h2 > code,h3 > code,h4 > code,h5 > code,h6 > code{font-size:1em;background-color:inherit;}h2{font-size:1.44em;margin:0.55em 0 0.55em 0;padding-top:0.55em;border-bottom:1px solid Silver;}h3{margin:0;margin-top:0.75em;font-size:1.22em;}nav h3{font-size:1.2em;margin:0 0 0.75em 0;}h4{font-size:1em;margin:0;margin-top:0.75em;}h5{font-size:0.94em;margin:0;margin-top:0.60em;padding:0;}h6{font-size:0.88em;margin:0;margin-top:0.60em;padding:0;}hr{border:0;border-top:1px solid silver;}a{color:#A3A3FF;margin:0;padding:0;vertical-align:baseline;}a:visited{color:hsl(270,70%,85%);}a:visited code{color:hsl(270,70%,85%);}a.autoheader_anchor{text-decoration:none;}img{margin-top:0.55em;margin-bottom:0.27em;}ul{list-style-type:disc;}dd{padding-top:0.25em;}p.first_dd{padding-top:0.25em;}li > ul,li > ol{padding-bottom:0;}li{margin-left:1.38em;margin-bottom:0.5em;}ul > li{margin-left:2.5em;}ol > li{margin-left:2.5em;}li ul{margin-left:0.55em;}li ul{margin-left:0.27em;}li p{padding:1px 0 0 0;margin:0.55em 0 0.27em 0;}ul, ol{padding:0;margin:0.3em 0.5em 0.5em 0.5em;}ul ul,ul ol,ol ol,ol ul{margin-top:0.5em;}p{padding:0.6em 0 0 0;margin:0;}pre{position:relative;overflow:auto;padding:0.55em 0.35em 0.55em 0.35em;margin:0.55em 0 0.55em 0 !important;background-color:#1A1A1A;-moz-tab-size:4;tab-size:4;-o-tab-size:4;display:block;font-family:APLFont, monospace;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;border:1px solid silver;line-height:1;border-radius:5px;}pre > code{line-height:1.2;border:0;padding:0;margin:0;background-color:inherit;font-weight:normal;white-space:pre-wrap;}th code ,td code{color:#8B0000;background-color:inherit;padding:0.02em 0.3em;border-radius:5px;border:1px solid #737373;}a code{padding:0;font-size:1em;background-color:inherit;color:inherit;}nav code{background-color:inherit;font-weight:400;}code{font-family:APLFont, monospace;color:#FFC266;background-color:#1A1A1A;line-height:1.4;white-space:nowrap;margin:0 0.2em 0 0.2em;padding:0.02em 0.3em;border-radius:5px;}tbody tr:nth-child(even){background-color:#DAA520;border-bottom:1px solid Gray;}tbody tr:nth-child(odd){background-color:#E6BD56;border-bottom:1px solid Gray;}th{background-color:#C3941D;color:black;border-bottom:1px solid Gray;}th, td{padding:0.5em;vertical-align:top;}table td + td{border-left:1px solid Gray;border-bottom:1px solid Gray;}table th + th{border-left:1px solid Gray;border-bottom:1px solid Gray;}table{margin:0.75em 0;border-collapse:collapse;font-family:APLFont;font-size:1em;line-height:1.0;border:2px solid Black;}table a{color:blue;}table a:visited{color:blue;}thead th{color:black;background-color:#B68A1B;}td{color:black;}tfoot td{color:black;background-color:#B68A1B;font-weight:bold;}li > table{margin:0.55em 0 0.55em 0;}tr{margin:1.11em;}th{font-weight:bold;}blockquote{border-left:0.27em solid silver;padding:0 0.25em;margin:0.5em 0.25em 0.80em 0.5em;}blockquote p{padding:0 0.25em;}blockquote ul li{margin-left:1.38em;}blockquote ol li{margin-left:1.38em;}li > blockquote{margin-left:0;}nav{background-color:#4C4C4C;border:1px solid Silver;padding:0.55em;margin:0.50em 0 1em 0;margin-right:0;overflow:hidden;}nav#main_nav{width:auto;}nav ul{list-style-type:None;margin:0 1em 0.11em 0;padding:0;}nav ul,nav ul{margin-left:2em;}nav > ul ul{margin-left:2em;}nav a{color:#EDEDED;}nav a:visited{color:#B0B0B0;}nav ul li{margin:0 0 0.16em 0;}nav li p{margin:0;padding:0;line-height:1;margin:0;padding:0;}nav li{line-height:1.5;padding:0;margin-top:0;margin-bottom:0;margin-left:2em;}nav p{font-weight:bold;font-size:1em;padding-top:0;margin-bottom:0.5em;}dl{margin-top:0.1em;margin-bottom:0.1em;}dt{margin-top:0.75em;margin-bottom:0.1em;font-weight:bold;}.toc-container{height:auto;margin:0;padding:0.5em 0.5em 0 0;}nav h2{font-size:1.5em;margin:0.27em 1em 0.27em 1em;}div.toc-container ul{margin-left:0.5em;margin-right:1em;padding-left:1em;}[type="checkbox"]{position:absolute;left:-9999px;}label{display:block;width:100%;height:1.1em;cursor:pointer;top:0;padding-left:1em;}div#footnotes_div p{line-height:1.2;padding-bottom:0;padding-top:0;}div#footnotes_div ol{padding-top:0;}@font-face{font-family:"APLFont";src:local("APL385 Unicode"), url("https://misc.aplteam.com/apl385.ttf") format("truetype");}.hide{transition:opacity 400ms, display 400ms;opacity:0;display:none;}.red{color:red;}.center{text-align:center;margin-left:auto;margin-right:auto;}.left{text-align:left;margin-right:0;}.right{text-align:right;margin-left:0;}.print_only{display:none;}div.leanpub{padding:0.83em 0.55em 1.11em 0;margin:0.55em 0 0 0.27em;overflow:auto;display:grid;grid-template-columns:auto 1fr;grid-gap:10px;}div.leanpub p:first-child,div.leanpub h1:first-child,div.leanpub h2:first-child,div.leanpub h3:first-child,div.leanpub ul:first-child,div.leanpub ol:first-child{padding-top:0;}div.leanpub_A{border:1px solid black;background-color:#4C004C;padding:0.55em;margin:1.11em 0 0.83em 0;color:#DDD;}div.leanpub h3,div.leanpub_A h3{font-size:1.2em;padding:0;margin:0;}div.leanpub h4,div.leanpub_A h4{font-size:1.1em;padding:0.27em 0 0 0;margin:0;}div.leanpub h5,div.leanpub h5{font-size:1.0em;padding:0.27em 0 0 0;margin:0;}div.leanpub_A h5,div.leanpub_A h5{font-size:1.0em;padding:0.27em 0 0 0;margin:0;}div.leanpub_A > p:first-child{padding-top:0;margin-top:0;}div.leanpub img{float:left;padding:0.5em;margin:0.5em 1em 0 0;clear:both;background-color:#CCCCFF;}div.leanpub tbody *{background-color:transparent;}div.leanpub p{padding:0.17em 0 0 0;margin:0;}span.leanpub_code{color:Red;}div.leanpub p{display:block;padding:0.44em 0 0 0;}div.leanpub > div{margin-left:3em;}pre[class*="language-"]{position:relative;margin:5px 0;padding:1.75em 0 1.75em 1em;}details summary{cursor:pointer;}details summary > *{display:inline;}div.accordion{border:1px solid silver;padding:0;margin:0.5em 0;background-color:#4C004C;}div.accordion > div{border:1px solid silver;padding:0.5em;margin:0 0;}div.accordion > div p,div.accordion > div ul,div.accordion > div ol,div.accordion > div img,div.accordion > div table{margin-block-end:0.1em;}div.collapsible{border:1px solid silver;padding:0.5em;margin:0.5em 0;background-color:#4C004C;}div.collapsible p,div.collapsible ul,div.collapsible ol,div.collapsible img,div.collapsible table{margin-block-end:0.1em;}ul.checkboxes{list-style:none;margin-left:-2em;padding-left:0;}li{text-indent:0;padding-left:0;line-height:1.4;}ul.checkboxes > li::before{content:"☐ ";}ul.checkboxes > li.checked::before{content:"☒ ";}pre > button{position:absolute;top:5px;right:5px;font-size:0.8em;padding:0.15em;border:1.25px solid #232326;border-top-left-radius:6px;border-top-right-radius:6px;border-bottom-right-radius:6px;border-bottom-left-radius:6px;}pre button:hover{cursor:pointer;background-color:#BCBABB;}#main_nav{position:relative;}#main_nav h2{font-size:1.45em;margin:0;padding:0.5em 0.5em 0em 0.5em;border-bottom:0px solid Silver;}#toc-toggle{position:absolute;top:1.4em;right:1em;border-top-left-radius:6px;border-top-right-radius:6px;border-bottom-right-radius:6px;border-bottom-left-radius:6px;}#toc-list{margin:1em 1em 0.25em 0;}sup, sub{text-decoration:none;}svg{padding:0.5em;background-color:#CCCCFF;}
</style>
<style media="print">
@page{margin:25mm 20mm 25mm 20mm;}body{font-family:Verdana, Arial, "Liberation Sans", sans-serif;font-size:10pt;line-height:1.2;}h1{font-size:150%;}h2{font-size:124%;}h3{font-size:124%;}h4{font-size:116%;}h5{font-size:108%;}h6{font-size:100%;}nav h2{font-size:1em;}h1{margin:0 0 20pt 0;}h2{margin:15pt 0 3pt 0;}h3{margin:10pt 0 0pt 0;}h4{margin:10pt 0 0pt 0;}h5{margin:9pt 0 0pt 0;}h6{margin:9pt 0 0pt 0;}h1,h2,h3,h4,h5,h6{color:black;font-family:"Arial", "Sans";page-break-after:avoid;}h1 > code,h2 > code,h3 > code,h4 > code,h5 > code,h6 > code{font-size:100%;}h2{border-bottom:1pt solid Silver;padding-bottom:2pt;}.h_tag{page-break-after:avoid;break-after:avoid;}abbr[title]{border-bottom:0;text-decoration:none;}a{color:black;margin:0;padding:0;vertical-align:baseline;text-decoration:none;font-style:italic;}a.autoheader_anchor{text-decoration:none;font-style:normal;page-break-after:avoid;break-after:avoid;}ul{list-style-type:square;}ul, ol{padding:0;margin:0;margin-top:10pt;}li > ul,li > ol{padding-bottom:0;padding-top:0;}li{line-height:1.3;margin:2pt 5pt 2pt 13pt;}ul > li, ol > li{margin:0 0 0 15pt;}li ul{margin-left:5pt;}li ul,li ol{margin:0 3pt 0 3pt;}li p{padding:0;margin:2pt 0;line-height:1.3;}p,ul,ol{line-height:1.2;padding:3pt 0 0 0;margin:0;color:black;}ul,ol{margin-top:0;}pre{padding:3pt 6pt;margin:5pt 0;white-space:pre-wrap;background-color:#FAFAFA;border:1pt Silver solid;display:block;font-family:APLFont, monospace;page-break-inside:avoid;overflow:hidden;line-height:1;}pre code{background-color:#FAFAFA;color:Black;padding:0;margin:0;border:0;white-space:pre-wrap;overflow:hidden;}code{font-family:APLFont, monospace;line-height:1.2;font-size:1em;color:#950000;padding:0 2pt;border:1pt solid silver;white-space:nowrap;margin:0 0.2em 0 0.2em;border-radius:5px;}nav code{font-size:0.9em;}table td + td{border-left:1pt solid silver;}table th + th{border-left:1pt solid silver;}th, td{padding:1pt 5pt;border:1pt solid silver;vertical-align:top;}table code{font-style:normal;padding-left:0;padding-right:0;}table{margin:0.75em 0;font-family:APLFont;font-size:1em;padding:0;border:1pt solid silver;border-collapse:collapse;}li > table{margin:10pt 0 10pt 0;}tr{margin:20pt;}th{font-weight:bold;}tfoot td{font-weight:bold;}tbody tr:nth-child(even) td,thead tr th{border-bottom:1pt solid #949494;}blockquote{border-left:5pt solid silver;padding-left:5pt;margin:8pt 3pt 8pt 8pt;margin:0.5em 0.2em 0.5em 0.5em;}blockquote p{padding:0 0.25em;}nav{background-color:#f8f8f8;border:1pt solid Gray;width:auto;padding:5pt 5pt 5pt 0;margin:5pt 0;overflow:hidden;}nav ul{list-style-type:none;margin:6pt 0 3pt 0;padding:0;}nav ul li{margin-top:3pt;margin-bottom:3pt;}nav li p{margin:0;padding:0;line-height:1;margin:0;padding:0;}nav li{line-height:1;padding:0;margin-top:0;margin-bottom:0;margin-left:8pt;}dl{margin-top:0;margin-bottom:10pt;}dt{margin-top:10pt;margin-bottom:0;font-weight:800;page-break-inside:avoid;}dd{margin-top:2pt;}label#hide_toc_label{font-size:65%;}.toc-container{background-color:inherit;}.toc-container h3{margin:0 0 2pt 7pt;}[type="checkbox"]{display:none;}label{display:block;width:100%;height:1.1em;top:0;padding-left:10pt;}a.external_link::before{content:" 🔗 ";}a.bookmark_link::before{content:" ➯";}a.mailto_link::before{content:" ✉"}nav a.bookmark_link{font-style:normal;}nav p{margin-left:10pt;font-weight:bold;font-size:0.85em;}nav a{font-style:normal;}nav a.bookmark_link::before{content:"";}div#footnotes_div a::before{content:"";}div#footnotes_div a{font-style:normal;}div#footnotes_div{page-break-inside:avoid;}@font-face{font-family:"APLFont";src:local("APL385 Unicode"), url("https://misc.aplteam.com/apl385.ttf") format("truetype");}.no_print{display:none;}.print{display:block;}.red{color:red;}.center{text-align:center;margin:0 auto;}.left{text-align:left;margin-right:0;}.right{text-align:right;margin-left:0;}.avoid_page_break{page-break-inside:avoid;}.page_break_before{page-break-before:always;}div.leanpub{margin:10pt 0 10pt 8pt;page-break-inside:avoid;display:grid;grid-template-columns:auto 1fr;grid-gap:10pt;align-items:top;}div.leanpub_A{border:1pt solid black;background-color:#f9f9f9;padding:5pt;margin:10pt 0 10pt 0;page-break-inside:avoid;}div.leanpub h3,div.leanpub_A h3{font-size:1.2em;padding:3pt 0 0 0;margin:0;}div.leanpub h4,div.leanpub_A h4{font-size:1.1em;padding:3pt 0 0 0;margin:0;}div.leanpub h5,div.leanpub h5{font-size:1.0em;padding:3pt 0 0 0;margin:0;}div.leanpub_A h5,div.leanpub_A h5{font-size:1.0em;padding:3pt 0 0 0;margin:0;}div.leanpub img{padding:0;margin:0 10pt 2pt 0;}div.leanpub_A > p:first-child{padding-top:0;margin-top:0;}div.leanpub > div > h1:first-child{padding-top:5pt;}div.leanpub img{float:left;padding:0;margin:5pt 10pt 0 0;clear:both;}span.leanpub_code{font-weight:bold;}div.leanpub p{display:block;padding:3pt 0 0 0;margin:0;}div.leanpub p:first-child,div.leanpub h1:first-child,div.leanpub h2:first-child,div.leanpub h3:first-child,div.leanpub ul:first-child,div.leanpub ol:first-child{padding-top:0;}div.leanpub > div{margin-left:35pt;}sup{font-size:0.75em;line-height:0;position:relative;vertical-align:baseline;top:-0.4em;}pre[class*="language-"]{position:relative;margin:5pt 0;padding:1.75rem 0 1.75rem 1rem;}pre[class*="language-"] button{position:absolute;top:5pt;right:5pt;}div.accordion{padding:0;margin:0.5em 0;}div.accordion > div{border:1pt solid silver;padding:0.5em;margin:0 0;}div.accordion > div p,div.accordion > div ul,div.accordion > div ol,div.accordion > div img,div.accordion > div table{margin-block-end:0.1em;}summary{display:block;}div.collapsible{border:1pt solid silver;padding:0.5em;margin:0.5em 0;}div.collapsible p,div.collapsible ul,div.collapsible ol,div.collapsible img,div.collapsible table{margin-block-end:0.1em;}ul.checkboxes{list-style:none;margin-left:-2rem;padding-left:0;}li{padding-left:1rem;text-indent:0;}ul.checkboxes > li::before{content:"☐ ";}ul.checkboxes > li.checked::before{content:"☒ ";}pre > button{display:none;}#toc-toggle{display:none;}#main_nav h2{margin:0;padding:0.5em 1em;border-bottom:1pt solid silver;}}
</style>

</head>
<body>
<div class="h_tag">
<a href="#tatin-for-contributors" id="tatin-for-contributors" class="autoheader_anchor">
<h1 data-id="Tatin-for-Contributors">Tatin for Contributors</h1>
</a>
</div>
<nav id="main_nav" class="toc">
<h2 id="toc-heading">Table of contents</h2>
<button id="toc-toggle" aria-controls="toc-list" aria-expanded="false">Show</button>

<div class="toc-container">
<ul id="toc-list" class="hide print">
<li class="toc-entry toc-h2"><a href="#scope-of-this-document">1. Scope of this document</a></li>
<li class="toc-entry toc-h2"><a href="#requirements">2. Requirements</a></li>
<li class="toc-entry toc-h2"><a href="#tatin-is-managed-by-cider">3. Tatin is managed by Cider</a></li>
<li class="toc-entry toc-h2"><a href="#how-to-work-on-tatin">4. How to work on Tatin</a></li>
<li class="toc-entry toc-h2"><a href="#prepare-either-the-client-or-the-server">5. Prepare either the Client or the Server</a></li>
<li class="toc-entry toc-h2"><a href="#updating-tatin-packages-used-by-tatin">6. Updating Tatin packages used by Tatin</a></li>
<li class="toc-entry toc-h2"><a href="#do-your-thing">7. Do your thing</a></li>
<li class="toc-entry toc-h2"><a href="#executing-the-test-cases">8. Executing the test cases</a>
<ul>
<li class="toc-entry toc-h3"><a href="#testing-while-developing">8.1. Testing while developing</a>
<ul>
<li class="toc-entry toc-h4"><a href="#executing-all-tests">8.1.1. Executing all tests</a></li>
<li class="toc-entry toc-h4"><a href="#quitting-tests">8.1.2. Quitting tests</a></li>
<li class="toc-entry toc-h4"><a href="#executing-only-particular-tests">8.1.3. Executing only particular tests</a></li>
</ul></li>
<li class="toc-entry toc-h3"><a href="#tests-as-part-of-an-automated-build">8.2. Tests as part of an automated build</a>
<ul>
<li class="toc-entry toc-h4"><a href="#running-the-test-suite-from-apl">8.2.1. Running the test suite from APL</a></li>
<li class="toc-entry toc-h4"><a href="#running-the-test-suite-from-a-console-or-terminal">8.2.2. Running the test suite from a console or terminal</a></li>
</ul></li>
</ul></li>
<li class="toc-entry toc-h2"><a href="#how-to-create-a-new-version">9. How to create a new version</a>
<ul>
<li class="toc-entry toc-h3"><a href="#ov1">9.1. Overview</a></li>
</ul></li>
<li class="toc-entry toc-h2"><a href="#creating-a-document-for-proofreading">10. Creating a document for proofreading</a>
</ul>
</div>
</nav>
<div class="h_tag">
<a href="#scope-of-this-document" id="scope-of-this-document" class="autoheader_anchor">
<h2 data-id="Scope-of-this-document">1. Scope of this document</h2>
</a>
</div>
<p>If you want to contribute to the <a href="https://github.com/aplteam/Tatin" class="external_link">Tatin project on GitHub</a> or make adjustments to Tatin for an in-house project, this document will help you.</p>
<p>Tatin is published under the MIT license, so everybody is welcome to contribute to the code. It is not owned by anybody; it is rather a community project.</p>
<p>This document also discusses how to execute the test suite and how to build a new version of Tatin.</p>
<p>However, this is not an introduction to how to contribute to a project that is hosted on GitHub. If you are not familiar with that then google “contribute to a GitHub project”.</p>
<div class="h_tag">
<a href="#requirements" id="requirements" class="autoheader_anchor">
<h2 data-id="Requirements">2. Requirements</h2>
</a>
</div>
<p>To work on Tatin you need at least Dyalog 18.0 Unicode (it will never run in Classic).</p>
<p>You need one of:</p>
<ul>
<li>Windows</li>
<li>Linux</li>
<li>Mac OS</li>
</ul>
<p>AIX is not supported. The PI is not officially supported but it will probably work anyway.</p>
<p>You also need to have Git installed.</p>
<div class="h_tag">
<a href="#tatin-is-managed-by-cider" id="tatin-is-managed-by-cider" class="autoheader_anchor">
<h2 data-id="Tatin-is-managed-by-Cider">3. Tatin is managed by Cider</h2>
</a>
</div>
<p>Note that Tatin is managed by the <a href="https://github.com/aplteam/Cider" class="external_link">Cider project management tool</a>. If you are not familiar with Cider you are advised to spend some time playing with it before using it for serious work. 30 minutes should suffice.</p>
<p>Though it is possible making changes or adding code to Tatin without Cider, using Cider makes it significantly easier. Also, the build process requires Cider.</p>
<p>Having said this, you don't neccessarily need to build a new version for creating a pull request, so you might get away without Cider, but using Cider is certainly recommended.</p>
<div class="h_tag">
<a href="#how-to-work-on-tatin" id="how-to-work-on-tatin" class="autoheader_anchor">
<h2 data-id="How-to-work-on-Tatin">4. How to work on Tatin</h2>
</a>
</div>
<p>After downloading/forking Tatin from GitHub and saving it somewhere, say in <code>C:\Tatin</code>, you issue the command</p>
<pre tabindex="0"><code>]Cider.OpenProject C:\Tatin</code></pre>
<p>and you are ready to go.</p>
<p>Note that there is no need to save a workspace or anything: every function, operator, class, interface or namespace script changed in <code>#.Tatin</code> will automatically be saved to disk by <a href="https://github.com/dyalog/link" class="external_link">Link</a>.</p>
<div class="h_tag">
<a href="#prepare-either-the-client-or-the-server" id="prepare-either-the-client-or-the-server" class="autoheader_anchor">
<h2 data-id="Prepare-either-the-Client-or-the-Server">5. Prepare either the Client or the Server</h2>
</a>
</div>
<p>If you want to run any Tatin client code execute the function</p>
<pre tabindex="0"><code>#.Tatin.Admin.Initialize_Client</code></pre>
<p>If you want to run the Tatin Server execute the function</p>
<pre tabindex="0"><code>#.Tatin.Admin.Initialize_Server</code></pre>
<p>Note that you cannot run both the Client and the Server in the same workspace.</p>
<p>GitHub does not allow downloading certificates, therefore you must take action in this respect. Tatin comes with test certificates, and in order to get around the GitHub restriction the certificates have an “additional extension” <code>.RemoveMe</code> which needs, well, removing.</p>
<p>Check the folder <code>TestServer/Server/Assets/Runtime/Certificates</code></p>
<div class="h_tag">
<a href="#updating-tatin-packages-used-by-tatin" id="updating-tatin-packages-used-by-tatin" class="autoheader_anchor">
<h2 data-id="Updating-Tatin-packages-used-by-Tatin">6. Updating Tatin packages used by Tatin</h2>
</a>
</div>
<p>Although Tatin depends on a couple of Tatin packages, it cannot be used to load those packages; the common bootstrap problem.</p>
<p>For that reason, the packages installed in the <code>packages/</code> folder are copied over to the <code>APLSource/</code> folder when a new version is built. That allows loading the packages with Link.</p>
<p>If you need to add a package then you need to perform a couple of steps:</p>
<ul>
<li>Install that package into <code>packages/</code></li>
<li>Call <code>#.Tatin.Admin.UpdatePackages ⍬</code></li>
</ul>
<p>For further details see the comments in the function <code>#.Tatin.Admin.UpdatePackages</code>.</p>
<div class="h_tag">
<a href="#do-your-thing" id="do-your-thing" class="autoheader_anchor">
<h2 data-id="Do-your-thing">7. Do your thing</h2>
</a>
</div>
<p>Now that you have a working version of Tatin on your machine, you can start contributing.</p>
<p>If you find parts of this document confusing, outdated, unclear or missing bits and pieces: change it; that might well be your first valuable contribution.</p>
<p>Whether you improved the documentation or fixed a bug or added a feature, at the end of the day you need to create a Pull Request (PR). That will make the people in charge of the Tatin project check your contribution. At the time of writing that is Kai Jaeger, but this might (and eventually will) change in the future of course.</p>
<p>But before you can create a pull request you are supposed to run the tests to make sure that you did not break anything.</p>
<div class="h_tag">
<a href="#executing-the-test-cases" id="executing-the-test-cases" class="autoheader_anchor">
<h2 data-id="Executing-the-test-cases">8. Executing the test cases</h2>
</a>
</div>
<p>If you just want to execute all test cases before pushing your changes to GitHub then you may ask Cider how to do that:</p>
<pre tabindex="0"><code>      ]Cider.RunTests
#.Tatin.#.Tatin.TestCases.RunTests ⍝ Execute this for running the test suite</code></pre>
<p>Executing <code>RunTests</code> means that on Windows you will be asked whether a test server should be started. Usually, you will answer with a “Y”, and that lets the test suite start another instance of Dyalog, and run a test server in that instance.</p>
<p>On non-Windows platforms you will be be asked to start the server yourself and press <code>&lt;enter&gt;</code> once that has been done.</p>
<p>Developers might also run into one of two common scenarios:</p>
<ol start="1">
<li>During development you might want to execute all tests or just a specific group (or groups) of tests.
<p>You are sitting in front of the monitor, and therefore tests can ask you to perform certain tasks, like closing an edit window etc.</p>
<p>When a test fails then the test framework stops, and the developer can investigate on the spot.</p></li>
<li>You might want to execute the test suite automatically (batch mode), meaning that the tests would not attempt to interact with a user. (This implies that test cases that depend on a user won't be executed. Tatin has only a few test cases that fall into this category; more than 95% of the tests are batchable)
<p>This might be required by an automated build process.</p>
<p>In this case, any errors are trapped, and you get just either a single line that reports success or failure in the session or <code>⎕OFF</code> is executed, either without a code (in case of success) or the return code 123, indicating failure to the calling environment.</p>
<p>Note that a single failing test case is considered as “failure” of the whole test suite, though the test framework will continue to execute all remaining tests.</p></li>
</ol>
<p>We discuss the two different scenarios one after the other.</p>
<div class="leanpub_A">
<h3>Creating a new version</h3>
<p>Creating a new version is discussed later in this document, but there are scenarios when you need to create a new version <em>before</em> you execute the test cases.</p>
<p>The reason for this is that one group of test cases executes user commands. If they are affected by anything you've changed then naturally you want the new version to be available in <code>⎕SE</code> for execution, but that is only possible if you create a new version first.</p>
<p>For that reason one test checks whether the version number in the workspace and in <code>⎕SE</code> do match. If you are confident that this does not matter in your case you may just carry on.</p>
</div>

<div class="h_tag">
<a href="#testing-while-developing" id="testing-while-developing" class="autoheader_anchor">
<h3 data-id="Testing-while-developing">8.1. Testing while developing</h3>
</a>
</div>
<div class="h_tag">
<a href="#executing-all-tests" id="executing-all-tests" class="autoheader_anchor">
<h4 data-id="Executing-all-tests">8.1.1. Executing all tests</h4>
</a>
</div>
<p>It is recommended to start a fresh APL session and then load the Tatin project into the CLEAR WS before running any test cases.</p>
<p>Use <code>]Cider.OpenProject</code> to do this. Once the project has been opened, you can ask Cider how to execute Tatin's test suite by entering:</p>
<pre tabindex="0"><code>      ]Cider.RunTests
#.Tatin.#.Tatin.TestCases.RunTests ⍝ Execute this for running the test suite</code></pre>
<p>Note that by default the test cases use port 5001 for communication between the local Test Server and the client. Change the INI files for both server and client if that does not work for you.</p>
<p>When you run the test suite you will be asked whether you want to start a Tatin test server locally, and usually, you will answer with a “Yes!”. (Windows only, elsewhere you must start the server yourself)</p>
<div class="leanpub_A">
<h3>Starting a Tatin test server “manually”</h3>
<p>There may be scenarios when you want to start a local Tatin test server yourself, or you develop under Linux or Mac-OS when this is a requirement. For that execute the following steps:</p>
<ol start="1">
<li>Instantiate Dyalog Unicode 18.0 or later</li>
<li>Execute the following two statements:
<pre tabindex="0"><code>]Cider.OpenProject /path/to/Tatin
#.Tatin.TestCasesServer.RunTests</code></pre></li>
</ol>
<p>If you change any code at this stage those changes will be written back to disk, so be careful.</p>
</div>

<p>The <code>RunTests</code> function performs these tasks:</p>
<ul>
<li>Change the current directory</li>
<li>Establish all required references</li>
<li>Instantiate the <code>Tester2</code> class as <code>T</code></li>
<li>Start a local Tatin test server if the user confirms this</li>
<li>Call the <code>T.Run</code> function
<p>This will run all test cases, including those that communicate with a locally running Tatin test server and the principal Tatin server available at <a href="https://tatin.dev" class="external_link">https://tatin.dev</a></p></li>
</ul>
<div class="h_tag">
<a href="#quitting-tests" id="quitting-tests" class="autoheader_anchor">
<h4 data-id="Quitting-tests">8.1.2. Quitting tests</h4>
</a>
</div>
<p>There are scenarios where you want to quit the test suite, for example when a test unearthed a severe bug that needs fixing straight away, before executing the remaining tests.</p>
<p>It may be tempting to enter just <code>)reset</code>, but that is not how you should do this: you have to make sure that the test suite cleans up after itself.</p>
<p>The easiest way to achieve this is to execute this statement:</p>
<pre tabindex="0"><code>      T.QuitTests</code></pre>
<div class="leanpub_A">
<h3>Execute the client test suite multiple times in parallel</h3>
<p>You might come up with the idea to start the client part of the tests multiple times in parallel to put some pressure on the Tatin Server.</p>
<p>In general this is a good idea, but the client test suite is not suitable for this. For example, the tests that belong to the “Cache” group <em>must</em> be executed one after the other, they rely on each other. Generally, this should be avoided, but here for technical reasons, it's a must. Running this group in parallel contradicts this, and is bound to fail.</p>
</div>

<div class="h_tag">
<a href="#executing-only-particular-tests" id="executing-only-particular-tests" class="autoheader_anchor">
<h4 data-id="Executing-only-particular-tests">8.1.3. Executing only particular tests</h4>
</a>
</div>
<p>The <code>Tester2</code> test framework is flexible and powerful; for example, you may execute only the tests that focus on the Tatin Client API. The names of those tests are <code>Test_API_&lt;number&gt;</code>.</p>
<div class="leanpub_A">
<h3>Why executing only a few tests?</h3>
<p>The full test suite is exhaustive. Also, caching is switched off (except when caching is tested of course). For these reasons executing the full test suite takes considerable time. Therefore you might be interested in executing only certain parts of the test suite.</p>
<p>The tests are grouped, and that is reflected by the names of the test functions. For example, the names <code>Test_API_001</code> and <code>Test_UserCommand_001</code> clearly state which group they belong to.</p>
</div>

<p>If you are not interested in executing only some of the test cases then skip this and carry on with “<a href="#tests-as-part-of-an-automated-build" class="bookmark_link">Tests as part of an automated build</a>”.</p>
<p>Before executing any test case call this function:</p>
<pre tabindex="0"><code>#.Tatin.TestCases.Prepare</code></pre>
<p>This changes the current directory, establishes all required references and instantiates the <code>Tester2</code> class as <code>T</code>.</p>
<p>You can now list the groups:</p>
<pre tabindex="0"><code>      T.ListGroups
 Test_API             27
 Test_Build            1
 Test_Cache           10
 Test_CheckVersions    6
 Test_ClientConfig    19
 Test_Demo             9
 Test_HTTP             6
 Test_InstallAndLoad  24
 Test_InstallLatest   11
 Test_ListPkgs        22
 Test_ListRegistries   1
 Test_ListTags         6
 Test_ListVersions     8
 Test_Load            38
 Test_LoadBest         4
 Test_LX               5
 Test_Misc            19
 Test_Pack            19
 Test_PkgCfg           9
 Test_Publish         15
 Test_ReInstall        7
 Test_ScanRegistries   4
 Test_Server          63
 Test_Uninstall       15
 Test_UserCommands    42
 Test_ZZZ              4</code></pre>
<p>The number tells how many tests a group comprehends, so when you execute this command on your own machine, the numbers and rows will possibly be slightly different.</p>
<p>You can also list all tests, say for the group <code>ScanRegistries</code>:</p>
<pre tabindex="0"><code>      T.ListTestFunctions 'Scan*'
 Test_ScanRegistries_002  Search for a specific package without specifying a Registry...
 Test_ScanRegistries_003  Enforce a Registry scan after defining a non-existing Regis...
 Test_ScanRegistries_004  Enforce a Registry scan after defining a non-existing Regis...
 Test_ScanRegistries_005  Enforce a Registry scan. The first "Registry" returns HTML ...</code></pre>
<p>Notes:</p>
<ul>
<li>The wildcard character (<code>*</code>) can be used to identify a group</li>
<li>The first comment line after any header lines is displayed</li>
</ul>
<p>You may specify <code>'view'</code> as the left argument to force the result of that function into a read-only <code>⎕ED</code> window.</p>
<p>Let's assume that you want to execute all tests of the group <code>API</code>:</p>
<pre tabindex="0"><code>T.RunThese 'API'</code></pre>
<p>Or just the tests 8 and 20 of the group <code>API</code>:</p>
<pre tabindex="0"><code>T.RunThese 'API' (8 20)</code></pre>
<p>Or run the groups <code>API</code> and <code>Misc</code>:</p>
<pre tabindex="0"><code>T.RunThese 'API,Misc'</code></pre>
<p>Or run all tests but <code>UserCommand</code>:</p>
<pre tabindex="0"><code>T.RunThese '~UserCommand'</code></pre>
<p>Last but not least you may specify a 1 as the left argument: this makes the test framework stop just before any particular test function is executed. This can be handy to hunt down a bug, or any unexpected behaviour.</p>
<pre tabindex="0"><code>1 T.RunThese 'API'</code></pre>
<p>The test framework offers many more options and features, refer to the documentation for exploring them: go to <a href="https://github.com/aplteam/Tester2" class="external_link">https://github.com/aplteam/Tester2</a> (full picture) or execute <code>]ADOC #.Tatin.Tester2</code> (reference).</p>
<div class="h_tag">
<a href="#tests-as-part-of-an-automated-build" id="tests-as-part-of-an-automated-build" class="autoheader_anchor">
<h3 data-id="Tests-as-part-of-an-automated-build">8.2. Tests as part of an automated build</h3>
</a>
</div>
<p>You may wish to execute the tests that do not require a human in front of the monitor as part of an automated build process. Tatin is prepared for this.</p>
<p>You can start the test suite either from APL or from the command line.</p>
<div class="h_tag">
<a href="#running-the-test-suite-from-apl" id="running-the-test-suite-from-apl" class="autoheader_anchor">
<h4 data-id="Running-the-test-suite-from-APL">8.2.1. Running the test suite from APL</h4>
</a>
</div>
<p>Call this function:</p>
<pre tabindex="0"><code>#.Tatin.TestCases.RunBatchTests 1</code></pre>
<p>The <code>1</code> provided as the right argument is just insurance against accidental calls.</p>
<p>When running the test suite with the batch flag set, as <code>RunBatchTests</code> does, is fundamentally different in several respects:</p>
<ul>
<li>A Tatin server that listens (by default) on port 5001 is started (and is also shut down) by the test suite itself.</li>
<li>By default all errors are trapped.
<p>If you need to track down a bug then you don't want this: in that case, pass a <code>1</code> as the left argument: this is treated as “debug” flag.</p></li>
</ul>
<p>Of course <code>RunBatchTests</code> does not execute any test cases that require a human in front of the monitor, but the number of such tests is small anyway.</p>
<p><code>RunBatchTests</code> checks the command line:</p>
<ul>
<li>In case <code>OFF2=1</code> was specified on the command line then <code>⎕OFF</code> is executed after the last test case got executed.
<p>If one or more test cases failed then <code>⎕OFF 123</code> is executed. That allows the calling environment to check whether the test suite was executed successfully in its entirety or not.</p></li>
<li>If <code>OFF2=1</code> was not specified a message is printed to the session, indicating success or failure.</li>
</ul>
<p>Note that <code>OFF=1</code> would kind of also work, but it would make Plodder <code>⎕OFF</code>, the underlying HTTP server used by Tatin. That might be too early. For example, you cannot get a code coverage report then.</p>
<div class="h_tag">
<a href="#running-the-test-suite-from-a-console-or-terminal" id="running-the-test-suite-from-a-console-or-terminal" class="autoheader_anchor">
<h4 data-id="Running-the-test-suite-from-a-console-or-terminal">8.2.2. Running the test suite from a console or terminal</h4>
</a>
</div>
<p>There are two scripts available in the Tatin root directory:</p>
<ol start="1">
<li><code>RunTests.bat</code> if you want to run the batch tests under Windows</li>
<li><code>RunTests.sh</code> if you want to run the batch tests on a non-Windows platform</li>
</ol>
<p>These are templates: check their contents, you might need to make amendments.</p>
<div class="h_tag">
<a href="#how-to-create-a-new-version" id="how-to-create-a-new-version" class="autoheader_anchor">
<h2 data-id="How-to-create-a-new-version">9. How to create a new version</h2>
</a>
</div>
<div class="h_tag">
<a href="#ov1" id="ov1" class="autoheader_anchor">
<h3 data-id="ov1">9.1. Overview</h3>
</a>
</div>
<p>Usually, your job is done once you've created a Pull Request (PR). However, here we document what the administrator of the Tatin project on GitHub needs to do once she has accepted at least one PR or finished her work on a branch.</p>
<p>You may ask Cider how to create a new version of Tatin:</p>
<pre tabindex="0"><code>      ]Cider.Make
#.Tatin.#.Tatin.Admin.Make 0 ⍝ Execute this for creating a new version</code></pre>
<p>Syntax:</p>
<ul>
<li>The right argument must be a Boolean:
<ul>
<li><code>0</code> means that a human is sitting in front of the monitor and can be asked questions or perform actions</li>
<li><code>1</code> means that no human is available; use this in case you want to create a new version automatically, for example from a batch script</li>
</ul></li>
<li>The optional left argument is a Boolean that defaults to <code>0</code>, see below for details.
<p>It would mean that the instances of Dyalog started to create the Client and the Server won't execute the <code>lx</code> command line parameter, allowing you to run the code in the Tracer.</p></li>
</ul>
<p>Notes:</p>
<ul>
<li>The build ID is always bumped when you create a new version.</li>
<li>The <code>Make</code> function will fire up two instances of Dyalog APL, one for creating the client version, one for creating the server version. The optional left argument, if 1,  prevents the interpreter from running the code straight away.</li>
</ul>
<div class="leanpub_A">
<h3>The <code>load</code> and <code>lx</code> command line parameters</h3>
<p>Despite the name of the left argument (<code>noQLX</code>) it is not associated with <code>⎕LX</code>: for this to work the command line parameters <code>load</code> and <code>lx</code> are invoked, and <code>-x</code> is added in case <code>noQLX</code> is 1, preventing the interpreter from executing the expression noted as <code>lx.</code></p>
<p>If this looks unfamiliar to you: the options <code>lx</code> and <code>load</code> were introduced in 18.0.</p>
</div>

<p>The <code>Make</code> function performs the following steps:</p>
<ol start="1">
<li>It runs <code>Tatin.Admin.MakeClient</code></li>
<li>It compiles the documentation (markdown) to HTML files and distributes the files</li>
<li>It runs <code>#.Tatin.Admin.MakeServer</code></li>
</ol>
<p>If the right argument was a <code>0</code> then it will also ask you whether you want to attempt an update for all packages Tatin itself depends on, and it would also ask you whether the new version of the Tatin Client should be copied to the <code>MyUCMDs/</code> folder.</p>
<p>In the process, the <code>Dist/</code> folder will be recreated from scratch. The <code>.zip</code> files in <code>Dist/</code> are to be released on GitHub. The <code>Dist/</code> folder will not appear on GitHub due to <code>.gitignore</code>.</p>
<p>There will be three zip files:</p>
<pre tabindex="0"><code>Tatin-Client-{major}.{minor}.{patch}.zip
Tatin-Documentation-{major}.{minor}.{patch}.zip
Tatin-Server-{major}.{minor}.{patch}.zip</code></pre>
<div class="h_tag">
<a href="#creating-a-document-for-proofreading" id="creating-a-document-for-proofreading" class="autoheader_anchor">
<h2 data-id="Creating-a-document-for-proofreading">10. Creating a document for proofreading</h2>
</a>
</div>
<p>There is a function that creates a single HTML file from all the Tatin markdown documentation. That makes proofreading significantly easier:</p>
<pre tabindex="0"><code>      htmlFilename←#.Tatin.Admin.CreateProofReadDocument 1</code></pre>
<p>Now open that file with the word processor of your choice and use its spell-checking capabilities.</p>

<script>

// Adds a "Copy" button to every code block & established the event handler
const copyButtonLabel = " Copy " ;

let blocks = document.querySelectorAll("pre");

blocks.forEach((block) => {
  if (navigator.clipboard) {
    let button = document.createElement("button");

    button.innerText = copyButtonLabel;
    button.title = "Copies the code block to the clipboard.";
    block.appendChild(button);
     
    button.addEventListener("click", async () => {
      await copyCode(block, button);
    });
  }  
});  

async function copyCode(block, button) {
  let code = block.querySelector("code");
  let text = code.innerText;

  await navigator.clipboard.writeText(text);

  button.innerText = " Copied ";

  setTimeout(() => {
    button.innerText = copyButtonLabel;
  }, 700);
}


// Toggle the visibility of the TOC when the "Hide/Show" button is clicked
const button = document.querySelector("#toc-toggle");
const content = document.querySelector("#toc-list");
button.addEventListener("click", toggleTableOfContents);
function toggleTableOfContents() {
  content.classList.toggle("hide");
  if (button.innerText === "Hide") {
    button.innerText = "Show";
    button.setAttribute("aria-expanded", false);
  } else {
    button.innerText = "Hide";
    button.setAttribute("aria-expanded", true);
  }
}

</script>

</body>
</html>
