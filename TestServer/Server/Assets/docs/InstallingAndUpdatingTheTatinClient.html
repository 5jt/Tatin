<!DOCTYPE html>
<html lang="en" style="scroll-behavior:smooth" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta charset="utf-8">
<title>Tatin: Installing & Updating</title>
<style media="screen">
html{-webkit-text-size-adjust:100%;}body{margin:0;}main{display:block;}h1{font-size:2em;margin:0.67em 0;}hr{box-sizing:content-box;height:0;overflow:visible;}pre{font-family:monospace, monospace;font-size:1em;}a{background-color:transparent;}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted;}b,strong{font-weight:bolder;}code,kbd,samp{font-family:monospace, monospace;font-size:1em;}small{font-size:80%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sub{bottom:-0.25em;}sup{top:-0.5em;}img{border-style:none;}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;}button,input{overflow:visible;}button,select{text-transform:none;}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText;}fieldset{padding:0.35em 0.75em 0.625em;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{vertical-align:baseline;}textarea{overflow:auto;}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto;}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px;}[type="search"]::-webkit-search-decoration{-webkit-appearance:none;}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}details{display:block;}summary{display:list-item;}template{display:none;}[hidden]{display:none;}body{margin:0;font-family:Arial, sans-serif;background-color:#323232;font-size:18px;max-width:900px;padding:0.83em;color:#DDD;margin-left:auto;margin-right:auto;overflow-wrap:break-word;line-height:1.4;}h1,h2,h3,h4,h5,h6{color:hsl(39,97%,83%);padding-left:0;}h1,h2,h3,h4{margin-bottom:0.88em;}h1{font-size:1.8em;margin:0.27em 0 1.11em 0;}h1 > code,h2 > code,h3 > code,h4 > code,h5 > code,h6 > code{font-size:1em;background-color:inherit;}h2{font-size:1.44em;margin:0.55em 0 0.55em 0;padding-top:0.55em;border-bottom:1px solid Silver;}h3{margin:0;margin-top:0.75em;font-size:1.22em;}nav h3{font-size:1.2em;margin:0 0 0.75em 0;}h4{font-size:1em;margin:0;margin-top:0.75em;}h5{font-size:0.94em;margin:0;margin-top:0.60em;padding:0;}h6{font-size:0.88em;margin:0;margin-top:0.60em;padding:0;}hr{border:0;border-top:1px solid silver;}a{color:#A3A3FF;margin:0;padding:0;vertical-align:baseline;}a:visited{color:hsl(270,70%,85%);}a:visited code{color:hsl(270,70%,85%);}a.autoheader_anchor{text-decoration:none;}img{margin-top:0.55em;margin-bottom:0.27em;}ul{list-style-type:disc;}dd{padding-top:0.25em;}p.first_dd{padding-top:0.25em;}li > ul,li > ol{padding-bottom:0;}li{margin-left:1.38em;margin-bottom:0.5em;}ul > li{margin-left:2.5em;}ol > li{margin-left:2.5em;}li ul{margin-left:0.55em;}li ul{margin-left:0.27em;}li p{padding:1px 0 0 0;margin:0.55em 0 0.27em 0;}ul, ol{padding:0;margin:0.3em 0.5em 0.5em 0.5em;}ul ul,ul ol,ol ol,ol ul{margin-top:0.5em;}p{padding:0.6em 0 0 0;margin:0;}pre{position:relative;overflow:auto;padding:0.55em 0.35em 0.55em 0.35em;margin:0.55em 0 0.55em 0 !important;background-color:#1A1A1A;-moz-tab-size:4;tab-size:4;-o-tab-size:4;display:block;font-family:APLFont, monospace;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;border:1px solid silver;line-height:1;border-radius:5px;}pre > code{line-height:1.2;border:0;padding:0;margin:0;background-color:inherit;font-weight:normal;white-space:pre-wrap;}th code ,td code{color:#8B0000;background-color:inherit;padding:0.02em 0.3em;border-radius:5px;border:1px solid #737373;}a code{padding:0;font-size:1em;background-color:inherit;color:inherit;}nav code{background-color:inherit;font-weight:400;}code{font-family:APLFont, monospace;color:#FFC266;background-color:#1A1A1A;line-height:1.4;white-space:nowrap;margin:0 0.2em 0 0.2em;padding:0.02em 0.3em;border-radius:5px;}tbody tr:nth-child(even){background-color:#DAA520;border-bottom:1px solid Gray;}tbody tr:nth-child(odd){background-color:#E6BD56;border-bottom:1px solid Gray;}th{background-color:#C3941D;color:black;border-bottom:1px solid Gray;}th, td{padding:0.5em;vertical-align:top;}table td + td{border-left:1px solid Gray;border-bottom:1px solid Gray;}table th + th{border-left:1px solid Gray;border-bottom:1px solid Gray;}table{margin:0.75em 0;border-collapse:collapse;font-family:APLFont;font-size:1em;line-height:1.0;border:2px solid Black;}table a{color:blue;}table a:visited{color:blue;}thead th{color:black;background-color:#B68A1B;}td{color:black;}tfoot td{color:black;background-color:#B68A1B;font-weight:bold;}li > table{margin:0.55em 0 0.55em 0;}tr{margin:1.11em;}th{font-weight:bold;}blockquote{border-left:0.27em solid silver;padding:0 0.25em;margin:0.5em 0.25em 0.80em 0.5em;}blockquote p{padding:0 0.25em;}blockquote ul li{margin-left:1.38em;}blockquote ol li{margin-left:1.38em;}li > blockquote{margin-left:0;}nav{background-color:#4C4C4C;border:1px solid Silver;padding:0.55em;margin:0.50em 0 1em 0;margin-right:0;overflow:hidden;}nav#main_nav{width:auto;}nav ul{list-style-type:None;margin:0 1em 0.11em 0;padding:0;}nav ul,nav ul{margin-left:2em;}nav > ul ul{margin-left:2em;}nav a{color:#EDEDED;}nav a:visited{color:#B0B0B0;}nav ul li{margin:0 0 0.16em 0;}nav li p{margin:0;padding:0;line-height:1;margin:0;padding:0;}nav li{line-height:1.5;padding:0;margin-top:0;margin-bottom:0;margin-left:2em;}nav p{font-weight:bold;font-size:1em;padding-top:0;margin-bottom:0.5em;}dl{margin-top:0.1em;margin-bottom:0.1em;}dt{margin-top:0.75em;margin-bottom:0.1em;font-weight:bold;}.toc-container{height:auto;margin:0;padding:0.5em 0.5em 0 0;}nav h2{font-size:1.5em;margin:0.27em 1em 0.27em 1em;}div.toc-container ul{margin-left:0.5em;margin-right:1em;padding-left:1em;}[type="checkbox"]{position:absolute;left:-9999px;}label{display:block;width:100%;height:1.1em;cursor:pointer;top:0;padding-left:1em;}div#footnotes_div p{line-height:1.2;padding-bottom:0;padding-top:0;}div#footnotes_div ol{padding-top:0;}@font-face{font-family:"APLFont";src:local("APL385 Unicode"), url("https://misc.aplteam.com/apl385.ttf") format("truetype");}.hide{transition:opacity 400ms, display 400ms;opacity:0;display:none;}.red{color:red;}.center{text-align:center;margin-left:auto;margin-right:auto;}.left{text-align:left;margin-right:0;}.right{text-align:right;margin-left:0;}.print_only{display:none;}div.leanpub{padding:0.83em 0.55em 1.11em 0;margin:0.55em 0 0 0.27em;overflow:auto;display:grid;grid-template-columns:auto 1fr;grid-gap:10px;}div.leanpub p:first-child,div.leanpub h1:first-child,div.leanpub h2:first-child,div.leanpub h3:first-child,div.leanpub ul:first-child,div.leanpub ol:first-child{padding-top:0;}div.leanpub_A{border:1px solid black;background-color:#4C004C;padding:0.55em;margin:1.11em 0 0.83em 0;color:#DDD;}div.leanpub h3,div.leanpub_A h3{font-size:1.2em;padding:0;margin:0;}div.leanpub h4,div.leanpub_A h4{font-size:1.1em;padding:0.27em 0 0 0;margin:0;}div.leanpub h5,div.leanpub h5{font-size:1.0em;padding:0.27em 0 0 0;margin:0;}div.leanpub_A h5,div.leanpub_A h5{font-size:1.0em;padding:0.27em 0 0 0;margin:0;}div.leanpub_A > p:first-child{padding-top:0;margin-top:0;}div.leanpub img{float:left;padding:0.5em;margin:0.5em 1em 0 0;clear:both;background-color:#CCCCFF;}div.leanpub tbody *{background-color:transparent;}div.leanpub p{padding:0.17em 0 0 0;margin:0;}span.leanpub_code{color:Red;}div.leanpub p{display:block;padding:0.44em 0 0 0;}div.leanpub > div{margin-left:3em;}pre[class*="language-"]{position:relative;margin:5px 0;padding:1.75em 0 1.75em 1em;}details summary{cursor:pointer;}details summary > *{display:inline;}div.accordion{border:1px solid silver;padding:0;margin:0.5em 0;background-color:#4C004C;}div.accordion > div{border:1px solid silver;padding:0.5em;margin:0 0;}div.accordion > div p,div.accordion > div ul,div.accordion > div ol,div.accordion > div img,div.accordion > div table{margin-block-end:0.1em;}div.collapsible{border:1px solid silver;padding:0.5em;margin:0.5em 0;background-color:#4C004C;}div.collapsible p,div.collapsible ul,div.collapsible ol,div.collapsible img,div.collapsible table{margin-block-end:0.1em;}ul.checkboxes{list-style:none;margin-left:-2em;padding-left:0;}li{text-indent:0;padding-left:0;line-height:1.4;}ul.checkboxes > li::before{content:"☐ ";}ul.checkboxes > li.checked::before{content:"☒ ";}pre > button{position:absolute;top:5px;right:5px;font-size:0.8em;padding:0.15em;border:1.25px solid #232326;border-top-left-radius:6px;border-top-right-radius:6px;border-bottom-right-radius:6px;border-bottom-left-radius:6px;}pre button:hover{cursor:pointer;background-color:#BCBABB;}#main_nav{position:relative;}#main_nav h2{font-size:1.45em;margin:0;padding:0.5em 0.5em 0em 0.5em;border-bottom:0px solid Silver;}#toc-toggle{position:absolute;top:1.4em;right:1em;border-top-left-radius:6px;border-top-right-radius:6px;border-bottom-right-radius:6px;border-bottom-left-radius:6px;}#toc-list{margin:1em 1em 0.25em 0;}sup, sub{text-decoration:none;}svg{padding:0.5em;background-color:#CCCCFF;}
</style>
<style media="print">
@page{margin:25mm 20mm 25mm 20mm;}body{font-family:Verdana, Arial, "Liberation Sans", sans-serif;font-size:10pt;line-height:1.2;}h1{font-size:150%;}h2{font-size:124%;}h3{font-size:124%;}h4{font-size:116%;}h5{font-size:108%;}h6{font-size:100%;}nav h2{font-size:1em;}h1{margin:0 0 20pt 0;}h2{margin:15pt 0 3pt 0;}h3{margin:10pt 0 0pt 0;}h4{margin:10pt 0 0pt 0;}h5{margin:9pt 0 0pt 0;}h6{margin:9pt 0 0pt 0;}h1,h2,h3,h4,h5,h6{color:black;font-family:"Arial", "Sans";page-break-after:avoid;}h1 > code,h2 > code,h3 > code,h4 > code,h5 > code,h6 > code{font-size:100%;}h2{border-bottom:1pt solid Silver;padding-bottom:2pt;}.h_tag{page-break-after:avoid;break-after:avoid;}abbr[title]{border-bottom:0;text-decoration:none;}a{color:black;margin:0;padding:0;vertical-align:baseline;text-decoration:none;font-style:italic;}a.autoheader_anchor{text-decoration:none;font-style:normal;page-break-after:avoid;break-after:avoid;}ul{list-style-type:square;}ul, ol{padding:0;margin:0;margin-top:10pt;}li > ul,li > ol{padding-bottom:0;padding-top:0;}li{line-height:1.3;margin:2pt 5pt 2pt 13pt;}ul > li, ol > li{margin:0 0 0 15pt;}li ul{margin-left:5pt;}li ul,li ol{margin:0 3pt 0 3pt;}li p{padding:0;margin:2pt 0;line-height:1.3;}p,ul,ol{line-height:1.2;padding:3pt 0 0 0;margin:0;color:black;}ul,ol{margin-top:0;}pre{padding:3pt 6pt;margin:5pt 0;white-space:pre-wrap;background-color:#FAFAFA;border:1pt Silver solid;display:block;font-family:APLFont, monospace;page-break-inside:avoid;overflow:hidden;line-height:1;}pre code{background-color:#FAFAFA;color:Black;padding:0;margin:0;border:0;white-space:pre-wrap;overflow:hidden;}code{font-family:APLFont, monospace;line-height:1.2;font-size:1em;color:#950000;padding:0 2pt;border:1pt solid silver;white-space:nowrap;margin:0 0.2em 0 0.2em;border-radius:5px;}nav code{font-size:0.9em;}table td + td{border-left:1pt solid silver;}table th + th{border-left:1pt solid silver;}th, td{padding:1pt 5pt;border:1pt solid silver;vertical-align:top;}table code{font-style:normal;padding-left:0;padding-right:0;}table{margin:0.75em 0;font-family:APLFont;font-size:1em;padding:0;border:1pt solid silver;border-collapse:collapse;}li > table{margin:10pt 0 10pt 0;}tr{margin:20pt;}th{font-weight:bold;}tfoot td{font-weight:bold;}tbody tr:nth-child(even) td,thead tr th{border-bottom:1pt solid #949494;}blockquote{border-left:5pt solid silver;padding-left:5pt;margin:8pt 3pt 8pt 8pt;margin:0.5em 0.2em 0.5em 0.5em;}blockquote p{padding:0 0.25em;}nav{background-color:#f8f8f8;border:1pt solid Gray;width:auto;padding:5pt 5pt 5pt 0;margin:5pt 0;overflow:hidden;}nav ul{list-style-type:none;margin:6pt 0 3pt 0;padding:0;}nav ul li{margin-top:3pt;margin-bottom:3pt;}nav li p{margin:0;padding:0;line-height:1;margin:0;padding:0;}nav li{line-height:1;padding:0;margin-top:0;margin-bottom:0;margin-left:8pt;}dl{margin-top:0;margin-bottom:10pt;}dt{margin-top:10pt;margin-bottom:0;font-weight:800;page-break-inside:avoid;}dd{margin-top:2pt;}label#hide_toc_label{font-size:65%;}.toc-container{background-color:inherit;}.toc-container h3{margin:0 0 2pt 7pt;}[type="checkbox"]{display:none;}label{display:block;width:100%;height:1.1em;top:0;padding-left:10pt;}a.external_link::before{content:" 🔗 ";}a.bookmark_link::before{content:" ➯";}a.mailto_link::before{content:" ✉"}nav a.bookmark_link{font-style:normal;}nav p{margin-left:10pt;font-weight:bold;font-size:0.85em;}nav a{font-style:normal;}nav a.bookmark_link::before{content:"";}div#footnotes_div a::before{content:"";}div#footnotes_div a{font-style:normal;}div#footnotes_div{page-break-inside:avoid;}@font-face{font-family:"APLFont";src:local("APL385 Unicode"), url("https://misc.aplteam.com/apl385.ttf") format("truetype");}.no_print{display:none;}.print{display:block;}.red{color:red;}.center{text-align:center;margin:0 auto;}.left{text-align:left;margin-right:0;}.right{text-align:right;margin-left:0;}.avoid_page_break{page-break-inside:avoid;}.page_break_before{page-break-before:always;}div.leanpub{margin:10pt 0 10pt 8pt;page-break-inside:avoid;display:grid;grid-template-columns:auto 1fr;grid-gap:10pt;align-items:top;}div.leanpub_A{border:1pt solid black;background-color:#f9f9f9;padding:5pt;margin:10pt 0 10pt 0;page-break-inside:avoid;}div.leanpub h3,div.leanpub_A h3{font-size:1.2em;padding:3pt 0 0 0;margin:0;}div.leanpub h4,div.leanpub_A h4{font-size:1.1em;padding:3pt 0 0 0;margin:0;}div.leanpub h5,div.leanpub h5{font-size:1.0em;padding:3pt 0 0 0;margin:0;}div.leanpub_A h5,div.leanpub_A h5{font-size:1.0em;padding:3pt 0 0 0;margin:0;}div.leanpub img{padding:0;margin:0 10pt 2pt 0;}div.leanpub_A > p:first-child{padding-top:0;margin-top:0;}div.leanpub > div > h1:first-child{padding-top:5pt;}div.leanpub img{float:left;padding:0;margin:5pt 10pt 0 0;clear:both;}span.leanpub_code{font-weight:bold;}div.leanpub p{display:block;padding:3pt 0 0 0;margin:0;}div.leanpub p:first-child,div.leanpub h1:first-child,div.leanpub h2:first-child,div.leanpub h3:first-child,div.leanpub ul:first-child,div.leanpub ol:first-child{padding-top:0;}div.leanpub > div{margin-left:35pt;}sup{font-size:0.75em;line-height:0;position:relative;vertical-align:baseline;top:-0.4em;}pre[class*="language-"]{position:relative;margin:5pt 0;padding:1.75rem 0 1.75rem 1rem;}pre[class*="language-"] button{position:absolute;top:5pt;right:5pt;}div.accordion{padding:0;margin:0.5em 0;}div.accordion > div{border:1pt solid silver;padding:0.5em;margin:0 0;}div.accordion > div p,div.accordion > div ul,div.accordion > div ol,div.accordion > div img,div.accordion > div table{margin-block-end:0.1em;}summary{display:block;}div.collapsible{border:1pt solid silver;padding:0.5em;margin:0.5em 0;}div.collapsible p,div.collapsible ul,div.collapsible ol,div.collapsible img,div.collapsible table{margin-block-end:0.1em;}ul.checkboxes{list-style:none;margin-left:-2rem;padding-left:0;}li{padding-left:1rem;text-indent:0;}ul.checkboxes > li::before{content:"☐ ";}ul.checkboxes > li.checked::before{content:"☒ ";}pre > button{display:none;}#toc-toggle{display:none;}#main_nav h2{margin:0;padding:0.5em 1em;border-bottom:1pt solid silver;}}
</style>

<script>

// Function that makes sure that all "Collapsibles" are extended (open) when printing
// We have to make sure that everything is going to be printed
window.matchMedia("print").addEventListener("change", evt => {
    if (evt.matches) {
        elms = document.body.querySelectorAll("details:not([open])");
        for (e of elms) {
            e.setAttribute("open", "");
            e.dataset.wasclosed = "";
        }
    } else {
        elms = document.body.querySelectorAll("details[data-wasclosed]");
        for (e of elms) {
            e.removeAttribute("open");
            delete e.dataset.wasclosed;
        }
    }
})
// End "PrintingCollapsibles"


</script>

</head>
<body>
<div class="h_tag">
<a href="#installing-and-updating-the-tatin-client" id="installing-and-updating-the-tatin-client" class="autoheader_anchor">
<h1 data-id="Installing-and-Updating-the-Tatin-Client">Installing and Updating the Tatin Client</h1>
</a>
</div>
<nav id="main_nav" class="toc">
<h2 id="toc-heading">Table of contents</h2>
<button id="toc-toggle" aria-controls="toc-list" aria-expanded="false">Show</button>

<div class="toc-container">
<ul id="toc-list" class="hide print">
<li class="toc-entry toc-h2"><a href="#introduction">1. Introduction</a></li>
<li class="toc-entry toc-h2"><a href="#requirements">2. Requirements</a></li>
<li class="toc-entry toc-h2"><a href="#how-to-activate-tatin-in-190">3. How to activate Tatin in 19.0</a></li>
<li class="toc-entry toc-h2"><a href="#how-to-install-in-180-and-182">4. How to install in 18.0 and 18.2</a>
<ul>
<li class="toc-entry toc-h3"><a href="#tell-dyalog-where-to-look-for-user-commands">4.1. Tell Dyalog where to look for user commands</a></li>
</ul></li>
<li class="toc-entry toc-h2"><a href="#initializing-tatin">5. Initializing Tatin</a></li>
<li class="toc-entry toc-h2"><a href="#on-setupdyalog">6. On <code>setup.dyalog</code> (18.0 and 18.2)</a>
<ul>
<li class="toc-entry toc-h3"><a href="#there-is-no-such-script-yet">6.1. There is no such script yet</a></li>
<li class="toc-entry toc-h3"><a href="#there-is-already-such-a-script">6.2. There is already such a script</a></li>
</ul></li>
<li class="toc-entry toc-h2"><a href="#updating-tatin">7. Updating Tatin</a>
<ul>
<li class="toc-entry toc-h3"><a href="#tatin-versions-before-01050">7.1. Tatin versions before 0.105.0</a></li>
<li class="toc-entry toc-h3"><a href="#tatin-version-01050-and-later">7.2. Tatin version 0.105.0 and later</a></li>
<li class="toc-entry toc-h3"><a href="#when-updating-goes-wrong">7.3. When updating goes wrong</a>
</li></ul></li>
</ul>
</div>
</nav>
<div class="h_tag">
<a href="#introduction" id="introduction" class="autoheader_anchor">
<h2 data-id="Introduction">1. Introduction</h2>
</a>
</div>
<p>You don't need to worry about installing Tatin if you use version 19.0 of Dyalog: In 19.0 Tatin just needs to be activated with the <code>]activate</code> user command.</p>
<p>In 18.0 and 18.2 you need to install Tatin yourself.</p>
<div class="h_tag">
<a href="#requirements" id="requirements" class="autoheader_anchor">
<h2 data-id="Requirements">2. Requirements</h2>
</a>
</div>
<ul>
<li>Tatin needs a Unicode version of Dyalog</li>
<li>Dyalog version 18.0 or better</li>
<li>Link version 3.0.8 or better</li>
</ul>
<p>Note that when you call <code>]Tatin.Init</code>, Tatin will check whether those requirements are met.</p>
<div class="h_tag">
<a href="#how-to-activate-tatin-in-190" id="how-to-activate-tatin-in-190" class="autoheader_anchor">
<h2 data-id="How-to-activate-Tatin-in-190">3. How to activate Tatin in 19.0</h2>
</a>
</div>
<p>In order to activate Tatin, execute</p>
<pre tabindex="0"><code>]Activate -??</code></pre>
<p>and follow the instructions.</p>
<div class="h_tag">
<a href="#how-to-install-in-180-and-182" id="how-to-install-in-180-and-182" class="autoheader_anchor">
<h2 data-id="How-to-install-in-180-and-182">4. How to install in 18.0 and 18.2</h2>
</a>
</div>
<p>Instructions:</p>
<ol start="1">
<li>Download the latest release of the Tatin client from <a href="https://github.com/aplteam/Tatin/releases" class="external_link">https://github.com/aplteam/Tatin/releases</a></li>
<li>Unzip it into the installaton folder</li>
</ol>
<div class="collapsible">
<details>
<summary>
<h3>What is the correct installation folder?</h3>
</summary>
<div class="collapsible-content">
<hr>
<p>Tatin must be installed into one of these folders dependening on your OS:</p>
<pre tabindex="0"><code>⍝ Windows
C:\Users\&lt;⎕AN&gt;\Documents\Dyalog APL[-64] &lt;version&gt; Unicode Files\SessionExtensions\CiderTatin

⍝ Linux
/home/&lt;⎕AN&gt;/.dyalog/dyalog.&lt;version&gt;U&lt;bit&gt;.files/SessionExtensions/CiderTatin

⍝ Mac OS
Users/&lt;⎕AN&gt;/.dyalog/dyalog.&lt;version&gt;U&lt;bit&gt;.files/SessionExtensions/CiderTatin</code></pre>
</div>
</details>
</div>
<p>As a result you should see something like this:</p>
<pre tabindex="0"><code>⍝ Windows
...\Dyalog APL[-64] &lt;version&gt; Unicode Files\SessionExtensions\CiderTatin\Tatin

⍝ Linux &amp; Mac OS
.../.dyalog/dyalog.&lt;version&gt;&lt;bit&gt;.files/SessionExtensions/CiderTatin/Tatin
</code></pre>
<div class="h_tag">
<a href="#tell-dyalog-where-to-look-for-user-commands" id="tell-dyalog-where-to-look-for-user-commands" class="autoheader_anchor">
<h3 data-id="Tell-Dyalog-where-to-look-for-user-commands">4.1. Tell Dyalog where to look for user commands</h3>
</a>
</div>
<p>Though Tatin's user command script etc. is now in place, Dyalog does not know about it yet. To achieve that we have to add the folder to SALT's search path. This step needs to be carried out only once for any installed version 18.0 or 18.2</p>
<p>Execute one of the following commands:</p>
<div class="collapsible">
<details>
<summary>
<h3>Windows</h3>
</summary>
<div class="collapsible-content">
<hr>
<pre tabindex="0"><code> ⍝ 18.0
]SALT.Settings cmddir ",C:\Users\&lt;⎕AN&gt;\Documents\Dyalog APL-64 18.0 Unicode Files\SessionExtensions\CiderTatin" -p
 ⍝ 18.2
]SALT.Settings cmddir ",C:\Users\&lt;⎕AN&gt;\Documents\Dyalog APL-64 18.2 Unicode Files\SessionExtensions\CiderTatin" -p</code></pre>
</div>
</details>
</div>
<div class="collapsible">
<details>
<summary>
<h3>Linux</h3>
</summary>
<div class="collapsible-content">
<hr>
<pre tabindex="0"><code> ⍝ 18.0
]SALT.Settings cmddir ",/home/&lt;⎕AN&gt;/dyalog.180U64.files/SessionExtensions/CiderTatin -p
  ⍝ 18.2
]SALT.Settings cmddir ",/home/&lt;⎕AN&gt;/dyalog.182U64.files/SessionExtensions/CiderTatin -p</code></pre>
</div>
</details>
</div>
<div class="collapsible">
<details>
<summary>
<h3> Mac OS</h3>
</summary>
<div class="collapsible-content">
<hr>
<pre tabindex="0"><code>  ⍝ 18.0
]SALT.Settings cmddir ",/Users/&lt;⎕AN&gt;/dyalog.180U64.files/SessionExtensions/CiderTatin" -p
  ⍝ 18.2
]SALT.Settings cmddir ",/Users/&lt;⎕AN&gt;/dyalog.182U64.files/SessionExtensions/CiderTatin" -p</code></pre>
</div>
</details>
</div>
<p>Notes:</p>
<ul>
<li>Note the comma (<code>,</code>) in front of the path: it tells SALT to <em>add</em> the path, rather than using it as a replacement</li>
<li>The <code>-p</code> stands for “permanent”; this makes sure your addition to the search path is permanent</li>
</ul>
<p>Any newly started version of Dyalog now comes with the user command <code>]Tatin.*</code>.</p>
<p>There is no point in having a function <code>Run.aplf</code> in place with 18.0 and 18.2: only in 19.0 did Dyalog add the feature that a function <code>Run.aplf</code> will be loaded and executed as part of Dyalog's bootstrapping procedure. In earlier versions such a function is not executed.</p>
<p>As a side effect of executing any of the Tatin user commands the Tatin API will become available via <code>⎕SE.Tatin</code>.</p>
<p>If you want the Tatin API to be available right from the start: this is discussed soon.</p>
<div class="h_tag">
<a href="#initializing-tatin" id="initializing-tatin" class="autoheader_anchor">
<h2 data-id="Initializing-Tatin">5. Initializing Tatin</h2>
</a>
</div>
<p>Once installed, any suitable version of Dyalog will provide a list of the Tatin user commands once you enter:</p>
<pre tabindex="0"><code>      ]tatin -?</code></pre>
<p>The script <code>Tatin.dyalog</code> is the interface between the Dyalog user command framework and the Tatin API.</p>
<p>When any of the Tatin user commands is executed, it will check whether the API is already loaded — that will be the case in 19.0 once Tatin is activated. If it's not available yet (18.0, 18.2), it will be loaded.</p>
<div class="h_tag">
<a href="#on-setupdyalog" id="on-setupdyalog" class="autoheader_anchor">
<h2 data-id="On-setupdyalog">6. On <code>setup.dyalog</code> (18.0 and 18.2)</h2>
</a>
</div>
<div class="leanpub">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="[title]" width="20px" height="20px" viewBox="0 0 20 20" preserveAspectRatio="xMidYMid meet"><title>Information</title><g transform="translate(0,20) scale(0.1,-0.1)" fill="#000000" stroke="none"><path d="M0 100 l0 -100 105 0 105 0 0 100 0 100 -105 0 -105 0 0 -100z m190 0 l0 -80 -85 0 -85 0 0 80 0 80 85 0 85 0 0 -80z"/><path d="M90 140 c0 -5 7 -10 15 -10 8 0 15 5 15 10 0 6 -7 10 -15 10 -8 0 -15 -4 -15 -10z"/> <path d="M90 80 c0 -20 5 -30 15 -30 10 0 15 10 15 30 0 20 -5 30 -15 30 -10 0 -15 -10 -15 -30z"/></g></svg>
<div>
<p>This is 18.0/18.2 only because in later versions of Dyalog, Tatin's API will be available in <code>⎕SE</code> right from the start</p>
</div>
</div>

<p>You might want the Tatin API to be available right from the start, so that you can invoke any of the Tatin API functions without first executing a Tatin user command.</p>
<div class="leanpub">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="[title]" width="20px" height="20px" viewBox="0 0 20 20" preserveAspectRatio="xMidYMid meet"><title>Information</title><g transform="translate(0,20) scale(0.1,-0.1)" fill="#000000" stroke="none"><path d="M0 100 l0 -100 105 0 105 0 0 100 0 100 -105 0 -105 0 0 -100z m190 0 l0 -80 -85 0 -85 0 0 80 0 80 85 0 85 0 0 -80z"/><path d="M90 140 c0 -5 7 -10 15 -10 8 0 15 5 15 10 0 6 -7 10 -15 10 -8 0 -15 -4 -15 -10z"/> <path d="M90 80 c0 -20 5 -30 15 -30 10 0 15 10 15 30 0 20 -5 30 -15 30 -10 0 -15 -10 -15 -30z"/></g></svg>
<div>
<p>What is the application for this? Well, you might want to have an automated build process available right from the start, for example.</p>
<p>If you are not interested in this: skip it and carry on with <a href="#updating-tatin" class="bookmark_link">Updating Tatin</a>.</p>
</div>
</div>

<p>The way to achieve this goal requires the introduction or modification of a file <code>setup.dyalog</code> in your <code>MyUCMDs/</code> folder.</p>
<p>Where to find the <code>MyUCMDs/</code> folder depends on your operating system:</p>
<ul>
<li>On Windows it's usually <code>C:\Users\{username}\Documents\</code></li>
<li>On Linux (including the PI) it is <code>/home/{username}/</code></li>
<li>On Mac OS it is <code>/Users/{username}/</code></li>
</ul>
<p>Note that only on Windows is the folder created as part of the installation routine. On other platforms you must create the folder yourself.</p>
<div class="leanpub_A">
<h3>How does <code>setup.dyalog</code> work?</h3>
<p>Whenever an instance of Dyalog is fired up, it checks whether such a script exists. If that is the case it checks whether there is a function <code>Setup</code> in the script.</p>
<p>If there is such a function then it is expected to be monadic; it will be executed automatically as part of the instantiating process of Dyalog APL.</p>
<p>This can be used for many things like…</p>
<ul>
<li>making changes to the session</li>
<li>specifying function keys</li>
<li>loading stuff into <code>⎕SE</code></li>
</ul>
<p>In version 19.0 the <code>Run.aplf</code> function offers a better way to achieve that, rendering <code>setup.dyalog</code> superfluous.</p>
</div>

<div class="h_tag">
<a href="#there-is-no-such-script-yet" id="there-is-no-such-script-yet" class="autoheader_anchor">
<h3 data-id="There-is-no-such-script-yet">6.1. There is no such script yet</h3>
</a>
</div>
<p>Create one that looks like this:</p>
<pre tabindex="0"><code>:Namespace SetItUp

    ∇ {r}←Setup arg;⎕IO;⎕ML;dmx
      r←⍬
      ⎕IO←1 ⋄ ⎕ML←1
      :Trap ⎕SE.SALTUtils.DEBUG↓0
          ⎕←AutoloadTatin ⎕SE.SALTUtils.DEBUG
      :Else
          dmx←⎕DMX
          ⎕←'Setup.dyalog has a problem and was not executed successfully:'
          ⎕←↑'  '∘,¨dmx.DM
      :EndTrap
    ∇

    ∇ r←AutoloadTatin debug;wspath;path2Config
      r←0 0⍴''
      :Trap debug/0
          :If 0=⎕SE.⎕NC'_Tatin'  ⍝ In 19.0 it most likely will already be there!
              :If ~IfAtLeastVersion 18
                  r←'Tatin not loaded: not compatible with this version of Dyalog'
              :ElseIf 80≠⎕DR' '              ⍝ Not in "Classic"
                  r←'Tatin not loaded: not compatible with Classic'
              :Else
                  ⎕SE.⎕EX¨'_Tatin' 'Tatin'
                  wspath←1 GetProgramFilesFolder '/SessionExtensions/CiderTatin/Tatin/Client.dws'
                  '_Tatin'⎕SE.⎕CY wspath
                  path2Config←⊃⎕nparts ⎕SE._Tatin.Client.FindUserSettings ⎕AN
                  'Create!'⎕SE._Tatin.Client.F.CheckPath path2Config
                  'Tatin'⎕SE.⎕NS''
                  path2Config ⎕SE._Tatin.Admin.EstablishClientInQuadSE ⍬
              :EndIf
          :EndIf
      :Else
          r←'Attempt to load Tatin failed with ',⎕DMX.EM
      :EndTrap
    ∇

      IfAtLeastVersion←{
      ⍝ ⍵ is supposed to be a number like 15 or 17.1, representing a version of Dyalog APL.
      ⍝ Returns a Boolean that is 1 only if the current version is at least as good.
          ⍵≤{⊃(//)⎕VFI ⍵/⍨2&gt;+\'.'=⍵}2⊃# ⎕WG'APLVersion'
      }

    ∇ r←{versionAgnostic}GetProgramFilesFolder postFix;version;aplVersion;OS
      ⍝ Returns the path to Dyalog's version-specific program files folder.\\
      ⍝ Works on all platforms but returns different results.\\
      ⍝ Under Windows typically:\\
      ⍝ `C:\Users\&lt;⎕AN&gt;\Documents\Dyalog APL[-64] 19.0 Unicode Files' ←→ GetMyUCMDsFolder
      ⍝ ⍺ is optional and defaults to 0, meaning the version-agnostic folder is returned.
      ⍝ If ⍺←1, the folder associated with the currently running version of Dyalog is returned.
       versionAgnostic←{0&lt;⎕NC ⍵:⍎⍵ ⋄ 0}'versionAgnostic'
       OS←3↑1⊃# ⎕WG'APLVersion'
       postFix←{(((~'/\'∊⍨⊃⍵)∧0≠≢⍵)/'/'),⍵}postFix
       aplVersion←# ⎕WG'APLVersion'
       :If versionAgnostic
           :If OS≡'Win'
               version←((∨/'-64'⍷1⊃aplVersion)/'-64'),' ',({⍵/⍨2&gt;+\⍵='.'}2⊃aplVersion),' ',(80=⎕DR' ')/'Unicode'
               r←(2 ⎕NQ #'GetEnvironment' 'USERPROFILE'),'\Documents\Dyalog APL',version,' Files',postFix
           :Else
               version←({'.'~⍨⍵/⍨2&gt;+\⍵='.'}2⊃aplVersion),((80=⎕DR' ')/'U'),((1+∨/'-64'⍷1⊃aplVersion)⊃'32' '64')
               r←(⊃⎕SH'echo $HOME'),'/dyalog.',version,'.files',postFix
           :EndIf
       :Else
           :If OS≡'Win'
               r←(2 ⎕NQ #'GetEnvironment' 'USERPROFILE'),'\Documents\Dyalog APL Files',postFix
           :Else
               r←(⊃⎕SH'echo $HOME'),'/dyalog.files',postFix
           :EndIf
       :EndIf
   ∇

:EndNamespace</code></pre>
<div class="h_tag">
<a href="#there-is-already-such-a-script" id="there-is-already-such-a-script" class="autoheader_anchor">
<h3 data-id="There-is-already-such-a-script">6.2. There is already such a script</h3>
</a>
</div>
<p>Copy the functions <code>IfAtLeastVersion</code>, <code>GetProgramFilesFolder</code> and <code>AutoLoadTatin</code> from above into your own <code>setup.dyalog</code> script and then make sure that <code>AutoLoadTatin</code> is called from your <code>Setup</code> function.</p>
<div class="h_tag">
<a href="#updating-tatin" id="updating-tatin" class="autoheader_anchor">
<h2 data-id="Updating-Tatin">7. Updating Tatin</h2>
</a>
</div>
<p>You've installed (18.0, 18.2) or activated (later than 18.2) Tatin before and want to update it to the latest version.</p>
<p>In that case you might need to perform some action, depending on how old your version of Tatin is.</p>
<div class="h_tag">
<a href="#tatin-versions-before-01050" id="tatin-versions-before-01050" class="autoheader_anchor">
<h3 data-id="Tatin-versions-before-01050">7.1. Tatin versions before 0.105.0</h3>
</a>
</div>
<p>Versions before 0.105.0 might have been installed into one of these folders:</p>
<pre tabindex="0"><code>C:\Users\&lt;user&gt;\Documents\MyUCMDs\     ⍝ Windows
/users/&lt;user&gt;/MyUCMDs/                 ⍝ Mac-OS
/home/&lt;user&gt;/MyUCMDs/                  ⍝ Linux</code></pre>
<p>If that is the case then, in order to keep things simple, you are advised to remove the folder <code>Tatin</code> from the <code>MyUCMDs/</code> folder and install Tatin (and, if installed, Cider) from scratch rather than updating it.</p>
<p>If have loaded Tatin into <code>⎕SE</code> with a script <code>setup.dyalog</code> you might need to make amendment to it.</p>
<div class="h_tag">
<a href="#tatin-version-01050-and-later" id="tatin-version-01050-and-later" class="autoheader_anchor">
<h3 data-id="Tatin-version-01050-and-later">7.2. Tatin version 0.105.0 and later</h3>
</a>
</div>
<p>Once you have Tatin 0.105.0 (or later) installed in the right place you can use <code>]Tatin.UpdateTatin</code> for updating Tatin to a later version.</p>
<p>Just execute:</p>
<pre tabindex="0"><code>]Tatin.UpdateTatin</code></pre>
<p>All necessary steps will be executed; eventually the new version number will be reported.</p>
<p>Notes:</p>
<ul>
<li>The command will put the release notes on display in your default browser</li>
<li>Although Tatin is updated on disk, the workspace from which the update command was executed is not for technical reasons — start a new instance of Dyalog to get the latest version</li>
</ul>
<ul>
<li>19.0 and later only: Tatin's <code>Update</code> command changes the installation directory, not the version of Tatin the <code>]Activate</code> user command copied it originally from; that remains unchanged.</li>
</ul>
<div class="h_tag">
<a href="#when-updating-goes-wrong" id="when-updating-goes-wrong" class="autoheader_anchor">
<h3 data-id="When-updating-goes-wrong">7.3. When updating goes wrong</h3>
</a>
</div>
<p>Debugging is the process of removing bugs from code, while programming is how you introduce them in the first place.</p>
<p>There is always the possibility that the update process is itself buggy. Calling it again usually does not help, so you need an escape route.</p>
<div class="accordion">
<div>
<details>
<summary>
18.2 and 18.0
</summary>
<div class="accordion-content">
<hr>
<p>The easiest way to recover it by uninstalling and then installing Tatin again.</p>
</div>
</details>
</div>
<div>
<details>
<summary>
19.0 and later
</summary>
<div class="accordion-content">
<hr>
<ol start="1">
<li>Execute <code>]DeActivate tatin</code> — that removes Tatin.</li>
<li>Execute <code>]Activate tatin</code> — that brings the version of Tatin back that your installation originally came with.</li>
<li>Execute <code>]Tatin.UpdateTatin</code> — that will try to update to the latest version.</li>
</ol>
</div>
</details>
</div>
</div>

<script>

// Adds a "Copy" button to every code block & established the event handler
const copyButtonLabel = " Copy " ;

let blocks = document.querySelectorAll("pre");

blocks.forEach((block) => {
  if (navigator.clipboard) {
    let button = document.createElement("button");

    button.innerText = copyButtonLabel;
    button.title = "Copies the code block to the clipboard.";
    block.appendChild(button);
     
    button.addEventListener("click", async () => {
      await copyCode(block, button);
    });
  }  
});  

async function copyCode(block, button) {
  let code = block.querySelector("code");
  let text = code.innerText;

  await navigator.clipboard.writeText(text);

  button.innerText = " Copied ";

  setTimeout(() => {
    button.innerText = copyButtonLabel;
  }, 700);
}


// Toggle the visibility of the TOC when the "Hide/Show" button is clicked
const button = document.querySelector("#toc-toggle");
const content = document.querySelector("#toc-list");
button.addEventListener("click", toggleTableOfContents);
function toggleTableOfContents() {
  content.classList.toggle("hide");
  if (button.innerText === "Hide") {
    button.innerText = "Show";
    button.setAttribute("aria-expanded", false);
  } else {
    button.innerText = "Hide";
    button.setAttribute("aria-expanded", true);
  }
}


// This makes sure that only one summary is open at any given time
const All_Details = document.querySelectorAll('details');

All_Details.forEach(deet=>{
  deet.addEventListener('toggle', toggleOpenOneOnly)
})

function toggleOpenOneOnly(e) {
  if (this.open) {
    All_Details.forEach(deet=>{
      if (deet!=this && deet.open) deet.open = false
    });
  }
}

</script>

</body>
</html>
