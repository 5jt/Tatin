<!DOCTYPE html>
<html lang="en" style="scroll-behavior:smooth" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta charset="utf-8">
<title>Tatin: first steps</title>
<style media="screen">
html{-webkit-text-size-adjust:100%;}body{margin:0;}main{display:block;}h1{font-size:2em;margin:0.67em 0;}hr{box-sizing:content-box;height:0;overflow:visible;}pre{font-family:monospace, monospace;font-size:1em;}a{background-color:transparent;}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted;}b,strong{font-weight:bolder;}code,kbd,samp{font-family:monospace, monospace;font-size:1em;}small{font-size:80%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sub{bottom:-0.25em;}sup{top:-0.5em;}img{border-style:none;}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;}button,input{overflow:visible;}button,select{text-transform:none;}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText;}fieldset{padding:0.35em 0.75em 0.625em;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{vertical-align:baseline;}textarea{overflow:auto;}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto;}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px;}[type="search"]::-webkit-search-decoration{-webkit-appearance:none;}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}details{display:block;}summary{display:list-item;}template{display:none;}[hidden]{display:none;}body{margin:0;font-family:Arial, sans-serif;background-color:#323232;font-size:18px;max-width:900px;padding:0.83em;color:#DDD;margin-left:auto;margin-right:auto;overflow-wrap:break-word;line-height:1.4;}h1,h2,h3,h4,h5,h6{color:hsl(39,97%,83%);padding-left:0;}h1,h2,h3,h4{margin-bottom:0.88em;}h1{font-size:1.8em;margin:0.27em 0 1.11em 0;}h1 > code,h2 > code,h3 > code,h4 > code,h5 > code,h6 > code{font-size:1em;background-color:inherit;}h2{font-size:1.44em;margin:0.55em 0 0.55em 0;padding-top:0.55em;border-bottom:1px solid Silver;}h3{margin:0;margin-top:0.75em;font-size:1.22em;}nav h3{font-size:1.2em;margin:0 0 0.75em 0;}h4{font-size:1em;margin:0;margin-top:0.75em;}h5{font-size:0.94em;margin:0;margin-top:0.60em;padding:0;}h6{font-size:0.88em;margin:0;margin-top:0.60em;padding:0;}hr{border:0;border-top:1px solid silver;}a{color:#A3A3FF;margin:0;padding:0;vertical-align:baseline;}a:visited{color:hsl(270,70%,85%);}a:visited code{color:hsl(270,70%,85%);}a.autoheader_anchor{text-decoration:none;}img{margin-top:0.55em;margin-bottom:0.27em;}ul{list-style-type:disc;}dd{padding-top:0.25em;}p.first_dd{padding-top:0.25em;}li > ul,li > ol{padding-bottom:0;}li{margin-left:1.38em;margin-bottom:0.5em;}ul > li{margin-left:2.5em;}ol > li{margin-left:2.5em;}li ul{margin-left:0.55em;}li ul{margin-left:0.27em;}li p{padding:1px 0 0 0;margin:0.55em 0 0.27em 0;}ul, ol{padding:0;margin:0.3em 0.5em 0.5em 0.5em;}ul ul,ul ol,ol ol,ol ul{margin-top:0.5em;}p{padding:0.6em 0 0 0;margin:0;}pre{position:relative;overflow:auto;padding:0.55em 0.35em 0.55em 0.35em;margin:0.55em 0 0.55em 0 !important;background-color:#1A1A1A;-moz-tab-size:4;tab-size:4;-o-tab-size:4;display:block;font-family:APLFont, monospace;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;border:1px solid silver;line-height:1;border-radius:5px;}pre > code{line-height:1.2;border:0;padding:0;margin:0;background-color:inherit;font-weight:normal;white-space:pre-wrap;}th code ,td code{color:#8B0000;background-color:inherit;padding:0.02em 0.3em;border-radius:5px;border:1px solid #737373;}a code{padding:0;font-size:1em;background-color:inherit;color:inherit;}nav code{background-color:inherit;font-weight:400;}code{font-family:APLFont, monospace;color:#FFC266;background-color:#1A1A1A;line-height:1.4;white-space:nowrap;margin:0 0.2em 0 0.2em;padding:0.02em 0.3em;border-radius:5px;}tbody tr:nth-child(even){background-color:#DAA520;border-bottom:1px solid Gray;}tbody tr:nth-child(odd){background-color:#E6BD56;border-bottom:1px solid Gray;}th{background-color:#C3941D;color:black;border-bottom:1px solid Gray;}th, td{padding:0.5em;vertical-align:top;}table td + td{border-left:1px solid Gray;border-bottom:1px solid Gray;}table th + th{border-left:1px solid Gray;border-bottom:1px solid Gray;}table{margin:0.75em 0;border-collapse:collapse;font-family:APLFont;font-size:1em;line-height:1.0;border:2px solid Black;}table a{color:blue;}table a:visited{color:blue;}thead th{color:black;background-color:#B68A1B;}td{color:black;}tfoot td{color:black;background-color:#B68A1B;font-weight:bold;}li > table{margin:0.55em 0 0.55em 0;}tr{margin:1.11em;}th{font-weight:bold;}blockquote{border-left:0.27em solid silver;padding:0 0.25em;margin:0.5em 0.25em 0.80em 0.5em;}blockquote p{padding:0 0.25em;}blockquote ul li{margin-left:1.38em;}blockquote ol li{margin-left:1.38em;}li > blockquote{margin-left:0;}nav{background-color:#4C4C4C;border:1px solid Silver;padding:0.55em;margin:0.50em 0 1em 0;margin-right:0;overflow:hidden;}nav#main_nav{width:auto;}nav ul{list-style-type:None;margin:0 1em 0.11em 0;padding:0;}nav ul,nav ul{margin-left:2em;}nav > ul ul{margin-left:2em;}nav a{color:#EDEDED;}nav a:visited{color:#B0B0B0;}nav ul li{margin:0 0 0.16em 0;}nav li p{margin:0;padding:0;line-height:1;margin:0;padding:0;}nav li{line-height:1.5;padding:0;margin-top:0;margin-bottom:0;margin-left:2em;}nav p{font-weight:bold;font-size:1em;padding-top:0;margin-bottom:0.5em;}dl{margin-top:0.1em;margin-bottom:0.1em;}dt{margin-top:0.75em;margin-bottom:0.1em;font-weight:bold;}.toc-container{height:auto;margin:0;padding:0.5em 0.5em 0 0;}nav h2{font-size:1.5em;margin:0.27em 1em 0.27em 1em;}div.toc-container ul{margin-left:0.5em;margin-right:1em;padding-left:1em;}[type="checkbox"]{position:absolute;left:-9999px;}label{display:block;width:100%;height:1.1em;cursor:pointer;top:0;padding-left:1em;}div#footnotes_div p{line-height:1.2;padding-bottom:0;padding-top:0;}div#footnotes_div ol{padding-top:0;}@font-face{font-family:"APLFont";src:local("APL385 Unicode"), url("https://misc.aplteam.com/apl385.ttf") format("truetype");}.hide{transition:opacity 400ms, display 400ms;opacity:0;display:none;}.red{color:red;}.center{text-align:center;margin-left:auto;margin-right:auto;}.left{text-align:left;margin-right:0;}.right{text-align:right;margin-left:0;}.print_only{display:none;}div.leanpub{padding:0.83em 0.55em 1.11em 0;margin:0.55em 0 0 0.27em;overflow:auto;display:grid;grid-template-columns:auto 1fr;grid-gap:10px;}div.leanpub p:first-child,div.leanpub h1:first-child,div.leanpub h2:first-child,div.leanpub h3:first-child,div.leanpub ul:first-child,div.leanpub ol:first-child{padding-top:0;}div.leanpub_A{border:1px solid black;background-color:#4C004C;padding:0.55em;margin:1.11em 0 0.83em 0;color:#DDD;}div.leanpub h3,div.leanpub_A h3{font-size:1.2em;padding:0;margin:0;}div.leanpub h4,div.leanpub_A h4{font-size:1.1em;padding:0.27em 0 0 0;margin:0;}div.leanpub h5,div.leanpub h5{font-size:1.0em;padding:0.27em 0 0 0;margin:0;}div.leanpub_A h5,div.leanpub_A h5{font-size:1.0em;padding:0.27em 0 0 0;margin:0;}div.leanpub_A > p:first-child{padding-top:0;margin-top:0;}div.leanpub img{float:left;padding:0.5em;margin:0.5em 1em 0 0;clear:both;background-color:#CCCCFF;}div.leanpub tbody *{background-color:transparent;}div.leanpub p{padding:0.17em 0 0 0;margin:0;}span.leanpub_code{color:Red;}div.leanpub p{display:block;padding:0.44em 0 0 0;}div.leanpub > div{margin-left:3em;}pre[class*="language-"]{position:relative;margin:5px 0;padding:1.75em 0 1.75em 1em;}details summary{cursor:pointer;}details summary > *{display:inline;}div.accordion{border:1px solid silver;padding:0;margin:0.5em 0;background-color:#4C004C;}div.accordion > div{border:1px solid silver;padding:0.5em;margin:0 0;}div.accordion > div p,div.accordion > div ul,div.accordion > div ol,div.accordion > div img,div.accordion > div table{margin-block-end:0.1em;}div.collapsible{border:1px solid silver;padding:0.5em;margin:0.5em 0;background-color:#4C004C;}div.collapsible p,div.collapsible ul,div.collapsible ol,div.collapsible img,div.collapsible table{margin-block-end:0.1em;}ul.checkboxes{list-style:none;margin-left:-2em;padding-left:0;}li{text-indent:0;padding-left:0;line-height:1.4;}ul.checkboxes > li::before{content:"☐ ";}ul.checkboxes > li.checked::before{content:"☒ ";}pre > button{position:absolute;top:5px;right:5px;font-size:0.8em;padding:0.15em;border:1.25px solid #232326;border-top-left-radius:6px;border-top-right-radius:6px;border-bottom-right-radius:6px;border-bottom-left-radius:6px;}pre button:hover{cursor:pointer;background-color:#BCBABB;}#main_nav{position:relative;}#main_nav h2{font-size:1.45em;margin:0;padding:0.5em 0.5em 0em 0.5em;border-bottom:0px solid Silver;}#toc-toggle{position:absolute;top:1.4em;right:1em;border-top-left-radius:6px;border-top-right-radius:6px;border-bottom-right-radius:6px;border-bottom-left-radius:6px;}#toc-list{margin:1em 1em 0.25em 0;}sup, sub{text-decoration:none;}svg{padding:0.5em;background-color:#CCCCFF;}
</style>
<style media="print">
@page{margin:25mm 20mm 25mm 20mm;}body{font-family:"Times New Roman", serif;font-size:14pt;line-height:1.2;}h1{font-size:170%;}h2{font-size:110%;}h3{font-size:110%;}h4{font-size:105%;}h5{font-size:100%;}h6{font-size:95%;}h1{margin:0 0 20pt 0;}h2{margin:15pt 0 3pt 0;}h3{margin:10pt 0 0pt 0;}h4{margin:10pt 0 0pt 0;}h5{margin:9pt 0 0pt 0;}h6{margin:9pt 0 0pt 0;}h1,h2,h3,h4,h5,h6{color:black;font-family:"Arial", "Sans";page-break-after:avoid;}h1 > code,h2 > code,h3 > code,h4 > code,h5 > code,h6 > code{font-size:100%;}h2{border-bottom:1pt solid Silver;padding-bottom:2pt;}.h_tag{page-break-after:avoid;break-after:avoid;}abbr[title]{border-bottom:0;text-decoration:none;}a{color:black;margin:0;padding:0;vertical-align:baseline;text-decoration:none;font-style:italic;}a.autoheader_anchor{text-decoration:none;font-style:normal;page-break-after:avoid;break-after:avoid;}ul{list-style-type:square;}ul, ol{padding:0;margin:0;margin-top:10pt;}li > ul,li > ol{padding-bottom:0;padding-top:0;}li{line-height:1.3;margin:2pt 5pt 2pt 13pt;}ul > li, ol > li{margin:0 0 0 15pt;}li ul{margin-left:5pt;}li ul,li ol{margin:0 3pt 0 3pt;}li p{padding:0;margin:2pt 0;line-height:1.3;}p,ul,ol{line-height:1.2;padding:3pt 0 0 0;margin:0;color:black;}ul,ol{margin-top:0;}pre{padding:3pt 6pt;margin:5pt 0;white-space:pre-wrap;background-color:#FAFAFA;border:1pt Silver solid;display:block;font-family:APLFont, monospace;page-break-inside:avoid;overflow:hidden;line-height:1;}pre code{background-color:#FAFAFA;color:Black;padding:0;margin:0;border:0;white-space:pre-wrap;overflow:hidden;}code{font-family:APLFont, monospace;line-height:1.2;font-size:12pt;color:#950000;padding:0 2pt;border:1pt solid silver;white-space:nowrap;margin:0 0.2em 0 0.2em;border-radius:5px;}table td + td{border-left:1pt solid silver;}table th + th{border-left:1pt solid silver;}th, td{padding:1pt 5pt;border:1pt solid silver;vertical-align:top;}table code{font-style:normal;padding-left:0;padding-right:0;}table{margin:0.75em 0;font-family:APLFont;font-size:12pt;padding:0;border:1pt solid silver;border-collapse:collapse;}li > table{margin:10pt 0 10pt 0;}tr{margin:20pt;}th{font-weight:bold;}tfoot td{font-weight:bold;}tbody tr:nth-child(even) td,thead tr th{border-bottom:1pt solid #949494;}blockquote{border-left:5pt solid silver;padding-left:5pt;margin:8pt 3pt 8pt 8pt;margin:0.5em 0.2em 0.5em 0.5em;}blockquote p{padding:0 0.25em;}nav{background-color:#f8f8f8;border:1pt solid Gray;width:auto;padding:5pt 5pt 5pt 0;margin:5pt 0;overflow:hidden;}nav ul{list-style-type:none;margin:6pt 0 3pt 0;padding:0;}nav ul li{margin-top:3pt;margin-bottom:3pt;}nav li p{margin:0;padding:0;line-height:1;margin:0;padding:0;}nav li{line-height:1;padding:0;margin-top:0;margin-bottom:0;margin-left:8pt;}dl{margin-top:0;margin-bottom:10pt;}dt{margin-top:10pt;margin-bottom:0;font-weight:800;page-break-inside:avoid;}dd{margin-top:2pt;}label#hide_toc_label{font-size:65%;}.toc-container{background-color:inherit;}.toc-container h3{margin:0 0 2pt 7pt;}[type="checkbox"]{display:none;}label{display:block;width:100%;height:1.1em;top:0;padding-left:10pt;}a.external_link::before{content:" 🔗 ";}a.bookmark_link::before{content:" ➯";}a.mailto_link::before{content:" ✉"}nav a.bookmark_link{font-style:normal;}nav p{margin-left:10pt;font-weight:bold;font-size:9pt;}nav a{font-style:normal;}nav a.bookmark_link::before{content:"";}div#footnotes_div a::before{content:"";}div#footnotes_div a{font-style:normal;}div#footnotes_div{page-break-inside:avoid;}@font-face{font-family:"APLFont";src:local("APL385 Unicode"), url("https://misc.aplteam.com/apl385.ttf") format("truetype");}.hide{display:none;}.print{display:block;}.red{color:red;}.center{text-align:center;margin:0 auto;}.left{text-align:left;margin-right:0;}.right{text-align:right;margin-left:0;}.avoid_page_break{page-break-inside:avoid;}.page_break_before{page-break-before:always;}div.leanpub{margin:10pt 0 10pt 8pt;page-break-inside:avoid;display:grid;grid-template-columns:auto 1fr;grid-gap:10pt;align-items:top;}div.leanpub_A{border:1pt solid black;background-color:#f9f9f9;padding:5pt;margin:10pt 0 10pt 0;page-break-inside:avoid;}div.leanpub h3,div.leanpub_A h3{font-size:1.2em;padding:3pt 0 0 0;margin:0;}div.leanpub h4,div.leanpub_A h4{font-size:1.1em;padding:3pt 0 0 0;margin:0;}div.leanpub h5,div.leanpub h5{font-size:1.0em;padding:3pt 0 0 0;margin:0;}div.leanpub_A h5,div.leanpub_A h5{font-size:1.0em;padding:3pt 0 0 0;margin:0;}div.leanpub img{padding:0;margin:0 10pt 2pt 0;}div.leanpub_A > p:first-child{padding-top:0;margin-top:0;}div.leanpub > div > h1:first-child{padding-top:5pt;}div.leanpub img{float:left;padding:0;margin:5pt 10pt 0 0;clear:both;}span.leanpub_code{font-weight:bold;}div.leanpub p{display:block;padding:3pt 0 0 0;margin:0;}div.leanpub p:first-child,div.leanpub h1:first-child,div.leanpub h2:first-child,div.leanpub h3:first-child,div.leanpub ul:first-child,div.leanpub ol:first-child{padding-top:0;}div.leanpub > div{margin-left:35pt;}sup{font-size:0.75em;line-height:0;position:relative;vertical-align:baseline;top:-0.4em;}pre[class*="language-"]{position:relative;margin:5pt 0;padding:1.75rem 0 1.75rem 1rem;}pre[class*="language-"] button{position:absolute;top:5pt;right:5pt;}div.accordion{padding:0;margin:0.5em 0;}div.accordion > div{border:1pt solid silver;padding:0.5em;margin:0 0;}div.accordion > div p,div.accordion > div ul,div.accordion > div ol,div.accordion > div img,div.accordion > div table{margin-block-end:0.1em;}summary{display:block;}div.collapsible{border:1pt solid silver;padding:0.5em;margin:0.5em 0;}div.collapsible p,div.collapsible ul,div.collapsible ol,div.collapsible img,div.collapsible table{margin-block-end:0.1em;}ul.checkboxes{list-style:none;margin-left:-2rem;padding-left:0;}li{padding-left:1rem;text-indent:0;}ul.checkboxes > li::before{content:"☐ ";}ul.checkboxes > li.checked::before{content:"☒ ";}pre > button{display:none;}#toc-toggle{display:none;}#main_nav h2{margin:0;padding:0.5em 1em;border-bottom:1pt solid silver;}}
</style>

</head>
<body>
<div class="h_tag">
<a href="#first-steps-with-the-tatin-client" id="first-steps-with-the-tatin-client" class="autoheader_anchor">
<h1 data-id="First-steps-with-the-Tatin-Client">First steps with the Tatin Client</h1>
</a>
</div>
<nav id="main_nav" class="toc">
<h2 id="toc-heading">Table of contents</h2>
<button id="toc-toggle" aria-controls="toc-list" aria-expanded="false">Show</button>

<div class="toc-container">
<ul id="toc-list" class="hide print">
<li class="toc-entry toc-h2"><a href="#where-we-start-from">1. Where we start from</a></li>
<li class="toc-entry toc-h2"><a href="#what-registries-are-available">2. What Registries are available</a></li>
<li class="toc-entry toc-h2"><a href="#looking-around">3. Looking around</a>
<ul>
<li class="toc-entry toc-h3"><a href="#listing-packages">3.1. Listing packages</a></li>
<li class="toc-entry toc-h3"><a href="#searching-by-tag">3.2. Searching by tag(s)</a></li>
</ul></li>
<li class="toc-entry toc-h2"><a href="#consuming-packages">4. Consuming packages</a>
<ul>
<li class="toc-entry toc-h3"><a href="#installing-packages">4.1. Installing packages</a>
<ul>
<li class="toc-entry toc-h4"><a href="#what-got-installed">4.1.1. What got installed?</a></li>
<li class="toc-entry toc-h4"><a href="#the-build-list">4.1.2. The build list</a></li>
<li class="toc-entry toc-h4"><a href="#how-does-a-package-look-like-on-disk">4.1.3. How does a package look like on disk?</a></li>
<li class="toc-entry toc-h4"><a href="#files-assets">4.1.4. Files assets</a></li>
<li class="toc-entry toc-h4"><a href="#tatin-and-cider">4.1.5. Tatin and Cider</a></li>
</ul></li>
<li class="toc-entry toc-h3"><a href="#getting-a-package-into-the-workspace">4.2. Getting a package into the workspace</a></li>
<li class="toc-entry toc-h3"><a href="#installing-several-packages-at-once">4.3. Installing several packages at once</a></li>
<li class="toc-entry toc-h3"><a href="#checking-out-a-package-loadpackages">4.4. Checking out a package: <code>LoadPackages</code></a></li>
<li class="toc-entry toc-h3"><a href="#misc">4.5. Misc</a>
<ul>
<li class="toc-entry toc-h4"><a href="#scanning-registries">4.5.1. Scanning Registries</a></li>
<li class="toc-entry toc-h4"><a href="#deprecated-packages">4.5.2. Deprecated packages</a></li>
<li class="toc-entry toc-h4"><a href="#tatin-variables">4.5.3. Tatin Variables</a>
</li></ul></li>
</li></ul></li>
</ul>
</div>
</nav>
<p>Before you start reading this document you should have read the document <a href="./Introduction.html" class="external_link">Introduction.html</a>.</p>
<div class="leanpub">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="[title]" width="20px" height="20px" viewBox="0 0 20 20" preserveAspectRatio="xMidYMid meet"><title>Information</title><g transform="translate(0,20) scale(0.1,-0.1)" fill="#000000" stroke="none"><path d="M0 100 l0 -100 105 0 105 0 0 100 0 100 -105 0 -105 0 0 -100z m190 0 l0 -80 -85 0 -85 0 0 80 0 80 85 0 85 0 0 -80z"/><path d="M90 140 c0 -5 7 -10 15 -10 8 0 15 5 15 10 0 6 -7 10 -15 10 -8 0 -15 -4 -15 -10z"/> <path d="M90 80 c0 -20 5 -30 15 -30 10 0 15 10 15 30 0 20 -5 30 -15 30 -10 0 -15 -10 -15 -30z"/></g></svg>
<div>
<p>Note that you should know what <a href="./SemanticVersioning.html" class="external_link">Semantic Versioning</a> is all about.</p>
</div>
</div>

<p>In this document additional information, that you might or might not be interested in at this stage, is presented in boxes. You might well skip over them till later.</p>
<div class="h_tag">
<a href="#where-we-start-from" id="where-we-start-from" class="autoheader_anchor">
<h2 data-id="Where-we-start-from">1. Where we start from</h2>
</a>
</div>
<p>We assume that you have the Tatin client installed and ready for use. That means that this command gives you a list with all Tatin user commands available to you:</p>
<pre tabindex="0"><code>      ]tatin -?</code></pre>
<div class="h_tag">
<a href="#what-registries-are-available" id="what-registries-are-available" class="autoheader_anchor">
<h2 data-id="What-Registries-are-available">2. What Registries are available</h2>
</a>
</div>
<p>After a fresh installation you might wonder what Registries are available to you.</p>
<pre tabindex="0"><code>      ]tatin.ListRegistries
 URL                     Alias         Port    Priority
 ----                    ----------    ----    --------
 https://tatin.dev/      tatin            0         100
 https://test.tatin.dev/ test-tatin       0           0</code></pre>
<p>At this point Tatin only knows about the principal Tatin Registry and the Tatin test Registry. If you wish to access other Registries on the Internet or your company's Intranet, or you want to host and publish packages locally (in all likelihood your own ones), then you must change the user settings.</p>
<p>All these topics — and related ones — are discussed in a separate document: “TatinUserSettings.html”. Here we try to keep things simple.</p>
<div class="h_tag">
<a href="#looking-around" id="looking-around" class="autoheader_anchor">
<h2 data-id="Looking-around">3. Looking around</h2>
</a>
</div>
<div class="h_tag">
<a href="#listing-packages" id="listing-packages" class="autoheader_anchor">
<h3 data-id="Listing-packages">3.1. Listing packages</h3>
</a>
</div>
<p>You may list <em>all</em> packages managed by Tatin's principal Registry with this command:</p>
<pre tabindex="0"><code>      ]tatin.ListPackages [tatin]
 Group &amp; Name             ≢ Major versions
 -----------------------  ----------------
 aplteam-APLTreeUtils2                   1
 aplteam-CodeCoverage                    2
 aplteam-Compare                         1
 aplteam-CompareSimple                   3
 ...</code></pre>
<p>The square brackets around “tatin” declare that string to be an alias. Without the square brackets Tatin would assume the argument to be either a local path or a URL like <code>https://localhost/my_tatin_server</code></p>
<div class="leanpub">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="[title]" width="20px" height="20px" viewBox="0 0 20 20" preserveAspectRatio="xMidYMid meet"><title>Information</title><g transform="translate(0,20) scale(0.1,-0.1)" fill="#000000" stroke="none"><path d="M0 100 l0 -100 105 0 105 0 0 100 0 100 -105 0 -105 0 0 -100z m190 0 l0 -80 -85 0 -85 0 0 80 0 80 85 0 85 0 0 -80z"/><path d="M90 140 c0 -5 7 -10 15 -10 8 0 15 5 15 10 0 6 -7 10 -15 10 -8 0 -15 -4 -15 -10z"/> <path d="M90 80 c0 -20 5 -30 15 -30 10 0 15 10 15 30 0 20 -5 30 -15 30 -10 0 -15 -10 -15 -30z"/></g></svg>
<div>
<p>Note that because <code>[tatin]</code> is the principal Tatin Registry you might well omit <code>[tatin]</code>: without an argument the command — like some others — would act on the principal Registry anyway.</p>
</div>
</div>

<p>If you specify a <code>?</code> instead of <code>[tatin]</code> then Tatin will present a list with all known Registries to you for selecting the right one:</p>
<pre tabindex="0"><code>]listPackages ?
--- Select Tatin Registry -----------------------------------------------------
   1.  [local]               https://localhost/
   2.  [tatin]               https://tatin.dev/
   3.  [tatin-test]          https://test.tatin.dev/

Select one item (q=quit) :</code></pre>
<div class="leanpub_A">
<h3>Local and remote Registries</h3>
<p>The Tatin client can access packages that are managed by a Tatin Server, but also Registries that are locally available (read: not managed by a server). In order to address a local Registry you would just provide the path to it.</p>
<p>Of course features like listing just the packages that carry a specific tag are only available when a Registry is managed by a Tatin server.</p>
</div>

<div class="h_tag">
<a href="#searching-by-tag" id="searching-by-tag" class="autoheader_anchor">
<h3 data-id="Searching-by-tag">3.2. Searching by tag(s)</h3>
</a>
</div>
<p><code>]tatin.ListPackages</code> will return a list with <em>all</em> packages available in the given Registry, aggregated by major version number. Now that can be a pretty long list. It might therefore be a good idea to tell something about what you are looking for in order to make the server shrink the list.</p>
<ul>
<li>If you happen to know the group name, you may specify <code>-group=whatever</code>: then only packages of the group “whatever” are listed</li>
<li>Every package is tagged with keywords
<p>You may specify one or more tags, for example <code>-tag=smtp,email</code></p></li>
</ul>
<div class="leanpub_A">
<h3>Searching for tags: the strategy</h3>
<ol start="1">
<li>First Tatin tries to find 100%-matches</li>
<li>In case there is no match, Tatin tries to find it <em>somewhere</em> (<code>⍷</code>)</li>
<li>In case there is still no match a fuzzy search is performed</li>
</ol>
<p>The fuzzy search would find “installer” when you enter “intaller” and “datetime” when you enter “dadetime”. It has limits, but in practice it works quite well unless the tags are very short: typing “AY” when you meant “AI” would not work.</p>
<p>Notes:</p>
<ul>
<li>The strategy outlined above is applied on each tag independently.</li>
<li>Searching for multiple tags would mean that only packages would qualify that carry a hit for <em>all of them</em>.</li>
<li>Searching for tags is an action that is carried out by a Tatin Server. That means that specifying <code>-tags=</code> makes sense only in HTTP requests: only then is there a server on the other side that can process the request.</li>
<li>This feature's sole purpose is to overcome typos; it should not be used deliberately — as a shortcut for example — since the result may be incorrect.</li>
</ul>
</div>

<p>Let's assume you need a tool for converting <a href="https://en.wikipedia.org/wiki/Markdown" class="external_link" title="Link to the Wikipedia">Markdown</a> into HTML, and that the package should run on all platforms.</p>
<p>The user command <code>ListTags</code> takes one or more tags and returns a list of tags that were also found in the packages that carried the specified tags:</p>
<pre tabindex="0"><code>            ]Tatin.ListTags [tatin] -tags=marckdown
 converter
 help
 markdown</code></pre>
<p>Note that although we misspelled “markdown” as “marckdown” it was still identified correctly.</p>
<p>We are now ready to identify that package by executing <code>ListPackages</code> with the <code>-tags</code> option:</p>
<pre tabindex="0"><code>           ]tatin.ListPackages [tatin] -tags=markdown
 Group &amp; Name     ≢ major versions
 ---------------  ----------------
 aplteam-MarkAPL                 1
</code></pre>
<p>Note that because packages which share the same group and name but have different major version numbers are considered different packages, the tally of the major version numbers is part of the list.</p>
<div class="leanpub">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="[title]" width="20px" height="20px" viewBox="0 0 20 20" preserveAspectRatio="xMidYMid meet"><title>Information</title><g transform="translate(0,20) scale(0.1,-0.1)" fill="#000000" stroke="none"><path d="M0 100 l0 -100 105 0 105 0 0 100 0 100 -105 0 -105 0 0 -100z m190 0 l0 -80 -85 0 -85 0 0 80 0 80 85 0 85 0 0 -80z"/><path d="M90 140 c0 -5 7 -10 15 -10 8 0 15 5 15 10 0 6 -7 10 -15 10 -8 0 -15 -4 -15 -10z"/> <path d="M90 80 c0 -20 5 -30 15 -30 10 0 15 10 15 30 0 20 -5 30 -15 30 -10 0 -15 -10 -15 -30z"/></g></svg>
<div>
<p>If you wonder why that is, then please read the document discussing <a href="./SemanticVersioning.html" class="external_link">Semantic Versioning</a>.</p>
</div>
</div>

<div class="h_tag">
<a href="#consuming-packages" id="consuming-packages" class="autoheader_anchor">
<h2 data-id="Consuming-packages">4. Consuming packages</h2>
</a>
</div>
<div class="h_tag">
<a href="#installing-packages" id="installing-packages" class="autoheader_anchor">
<h3 data-id="Installing-packages">4.1. Installing packages</h3>
</a>
</div>
<p>Imagine you want to use the <code>MarkAPL</code> package in an application you are currently working on, which we will call a project. Let's also assume that this project is named “Foo” and lives in <code>/Foo/</code>.</p>
<p>The first step is to install the package as part of the project “Foo”:</p>
<pre tabindex="0"><code>      ]tatin.InstallPackages [tatin]/MarkAPL /Foo/packages</code></pre>
<p>Notes:</p>
<ul>
<li><code>[tatin]</code> tells the Tatin client to load <code>MarkAPL</code> from the server the alias <code>tatin</code> is pointing to: https://tatin.dev</li>
<li>The <code>/</code> between <code>[tatin]</code> and <code>MarkAPL</code> is optional</li>
<li><code>MarkAPL</code> specifies neither a group nor a version number
<ul>
<li>If the name <code>MarkAPL</code> is used within more than just one group the operation will fail</li>
<li>Because no version information was provided at all, the very latest version will be installed</li>
</ul></li>
</ul>
<div class="h_tag">
<a href="#what-got-installed" id="what-got-installed" class="autoheader_anchor">
<h4 data-id="What-got-installed">4.1.1. What got installed?</h4>
</a>
</div>
<p>Once you executed the above statement, the <code>packages/</code> sub directory carries these files:</p>
<pre tabindex="0"><code>apl-buildlist.json
apl-dependencies.txt
aplteam-APLTreeUtils2-1.1.1
aplteam-FilesAndDirs-5.0.1
aplteam-MarkAPL-11.0.1
aplteam-OS-3.0.1</code></pre>
<p>Note that you might see different version numbers.</p>
<ul>
<li>The folder <code>aplteam-MarkAPL-11.0.1</code> contains the <code>MarkAPL</code> package</li>
<li>The file <code>apl-dependencies.txt</code> contains just one line: <code>aplteam-MarkAPL-11.0.1</code>
<p>That's because your project “Foo” depends so far on just one package, <code>MarkAPL</code></p></li>
<li>The file <code>apl-buildlist.json</code> carries the build list</li>
</ul>
<div class="h_tag">
<a href="#the-build-list" id="the-build-list" class="autoheader_anchor">
<h4 data-id="The-build-list">4.1.2. The build list</h4>
</a>
</div>
<p>The build list will be used to get all required packages into the workspace. This is how the build list looks like so far:</p>
<pre tabindex="0"><code>{
  packageID: [
    "aplteam-MarkAPL-11.0.1",
    "aplteam-OS-3.0.1",
    "aplteam-FilesAndDirs-5.0.1",
    "aplteam-APLTreeUtils2-1.1.1",
  ],
  principal: [
    1,
    0,
    0,
    0,
  ],
  url: [
    "https://tatin.dev/",
    "https://tatin.dev/",
    "https://tatin.dev/",
    "https://tatin.dev/",
   ],
}</code></pre>
<p>Notes:</p>
<ul>
<li>There is one package that has <code>principal</code> set to 1: <code>MarkAPL</code>. That's because we have explicitly asked for it</li>
<li>All other packages got installed because <code>MarkAPL</code> depends on them, either directly or indirectly</li>
<li>The URL points to where the packages were loaded from</li>
</ul>
<div class="h_tag">
<a href="#how-does-a-package-look-like-on-disk" id="how-does-a-package-look-like-on-disk" class="autoheader_anchor">
<h4 data-id="How-does-a-package-look-like-on-disk">4.1.3. How does a package look like on disk?</h4>
</a>
</div>
<p>To answer this question we need to look into the directory <code>/Foo/packages/aplteam-MarkAPL-11.0.1</code>:</p>
<pre tabindex="0"><code>apl-dependencies.txt
apl-package.json
aplteam-MarkAPL-11.0.1/Files
MarkAPL.aplc</code></pre>
<p>Again <code>apl-dependencies.txt</code> lists all dependencies, this time all the packages <code>MarkAPL</code> depends on.</p>
<p>The file <code>apl-package.json</code> describes the <code>MarkAPL</code> package:</p>
<pre tabindex="0"><code>{
  api: "MarkAPL",
  assets: "Files",
  date: 20210725.153851,
  description: "Converts Markdown to HTML5",
  documentation: "",
  group: "aplteam",
  project_url: "https://github.com/aplteam/MarkAPL",
  io: 1,
  maintainer: "kai@aplteam.com",
  minimumAplVersion: "18.0",
  lx: "",
  ml: 1,
  name: "MarkAPL",
  os_lin: 1,
  os_mac: 1,
  os_win: 1,
  source: "MarkAPL.aplc",
  tags: "markdown,converter",
  uri: "https://tatin.dev/",
  version: "11.0.1+232",
}</code></pre>
<p>Note that <code>MarkAPL</code> is a class. If you would leave <code>api</code> empty then when <code>MarkAPL</code> is loaded into <code>#</code> you would need to call the <code>Version</code> function with:</p>
<pre tabindex="0"><code>#.MarkAPL.MarkAPL.Version</code></pre>
<p>By defining <code>MarkAPL</code> as the api this suffices:</p>
<pre tabindex="0"><code>#.MarkAPL.Version</code></pre>
<p>The <code>api</code> parameter is discussed in detail in the “PackageConfiguration” document.</p>
<div class="h_tag">
<a href="#files-assets" id="files-assets" class="autoheader_anchor">
<h4 data-id="Files-assets">4.1.4. Files assets</h4>
</a>
</div>
<p>Note that the file <code>apl-package.json</code> specifies <code>assets: "Files"</code>. That means that there are assets, and that they can be found in the <code>Files/</code> sub directory.</p>
<p>In case of <code>MarkAPL</code> these are a bunch of CSS and HTML files:</p>
<pre tabindex="0"><code>BlackOnWhite_print.css
BlackOnWhite_screen.css
Dark_screen.css
Dark_print.css
LeanPubExtensions.html
MarkAPL.html
MarkAPL_CheatSheet.html
MarkAPL_for_Programmers.html
MarkAPL_print.css
MarkAPL_screen.css
QuickIntro.html
Styles.html</code></pre>
<p>Of course it could be anything required by the package.</p>
<div class="leanpub_A">
<h3>Regarding Assets</h3>
<p>Note that assets are to be consumed, meaning that a package <em><strong>must not</strong></em> write to the assets folder.</p>
</div>

<div class="h_tag">
<a href="#tatin-and-cider" id="tatin-and-cider" class="autoheader_anchor">
<h4 data-id="Tatin-and-Cider">4.1.5. Tatin and Cider</h4>
</a>
</div>
<p>If the project manager <a href="https://github.com/aplteam/cider" class="external_link">Cider</a> is installed you may take advantage of it:</p>
<p>If you are going to install packages into a project managed by Cider, then you may specify a Cider alias in order to identify the first part of the install path.</p>
<ul>
<li>If the selected Cider project has only one Tatin folder defined in its config file, then that one is taken</li>
<li>If there are multiple Tatin folders defined, the user is questioned which one she wants to install into</li>
</ul>
<p>It is also possible to specify the package folder explicitly:</p>
<pre tabindex="0"><code>]Tatin.InstallPackages [tatin]&lt;pkg-name&gt; [&lt;cider-alias/]/my-path</code></pre>
<div class="h_tag">
<a href="#getting-a-package-into-the-workspace" id="getting-a-package-into-the-workspace" class="autoheader_anchor">
<h3 data-id="Getting-a-package-into-the-workspace">4.2. Getting a package into the workspace</h3>
</a>
</div>
<p>From the perspective of the application “Foo” all packages are dependencies. Therefore one must issue this command:</p>
<pre tabindex="0"><code>      ]tatin.LoadDependencies /Foo/packages #.Foo
#._tatin.aplteam_MarkAPL_11_0_1</code></pre>
<div class="leanpub">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="[title]" width="20px" height="20px" viewBox="0 0 20 20" preserveAspectRatio="xMidYMid meet"><title>Information</title><g transform="translate(0,20) scale(0.1,-0.1)" fill="#000000" stroke="none"><path d="M0 100 l0 -100 105 0 105 0 0 100 0 100 -105 0 -105 0 0 -100z m190 0 l0 -80 -85 0 -85 0 0 80 0 80 85 0 85 0 0 -80z"/><path d="M90 140 c0 -5 7 -10 15 -10 8 0 15 5 15 10 0 6 -7 10 -15 10 -8 0 -15 -4 -15 -10z"/> <path d="M90 80 c0 -20 5 -30 15 -30 10 0 15 10 15 30 0 20 -5 30 -15 30 -10 0 -15 -10 -15 -30z"/></g></svg>
<div>
<p>By default Tatin does no jabber when going about its business, but by specifying the <code>-verbose</code> flag you can change this: if specified you will see a number of messages printed to the session in order to keep you informed about the progress of loading the packages.</p>
<p>At the very least the command prints to the session the name of the namespace into which the package was actually loaded.</p>
</div>
</div>

<p>We can use <code>MarkAPL</code> by referring to it as <code>#.Foo.MarkAPL</code> because Tatin has also established a reference in <code>#.Foo</code> named <code>MarkAPL</code> that points to the real package:</p>
<pre tabindex="0"><code>      #.Foo.MarkAPL
#._tatin.aplteam_MarkAPL_11_0_1.MarkAPL</code></pre>
<p>But how does <code>MarkAPL</code> find its assets? Tatin injects a namespace <code>TatinVars</code> into <code>#._tatin.aplteam_MarkAPL_11_0_1</code>, and that namespace carries several variables, among them these:</p>
<ul>
<li><code>HOME</code> carries the path to the directory where the package was loaded from</li>
<li><code>ASSETS</code> holds the path to the assets relative to <code>HOME</code>.
<p>If there are not assets then <code>ASSETS</code> is an empty vector.</p></li>
</ul>
<div class="leanpub">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="[title]" width="20px" height="20px" viewBox="0 0 20 20" preserveAspectRatio="xMidYMid meet"><title>Information</title><g transform="translate(0,20) scale(0.1,-0.1)" fill="#000000" stroke="none"><path d="M0 100 l0 -100 105 0 105 0 0 100 0 100 -105 0 -105 0 0 -100z m190 0 l0 -80 -85 0 -85 0 0 80 0 80 85 0 85 0 0 -80z"/><path d="M90 140 c0 -5 7 -10 15 -10 8 0 15 5 15 10 0 6 -7 10 -15 10 -8 0 -15 -4 -15 -10z"/> <path d="M90 80 c0 -20 5 -30 15 -30 10 0 15 10 15 30 0 20 -5 30 -15 30 -10 0 -15 -10 -15 -30z"/></g></svg>
<div>
<p>Note that there is also a function <a href="#getfullpath2assetsfolder" class="bookmark_link"><code>GetFullPath2AssetsFolder</code></a> available in <code>TatinVars</code>.</p>
</div>
</div>

<pre tabindex="0"><code>      #._tatin.aplteam_MarkAPL_11_0_1.TatinVars.HOME
/Foo/packages/aplteam-APLTreeUtils2-1.1.1</code></pre>
<p>That means that any <code>MarkAPL</code> function can refer to <code>HOME</code> with <code>##.TatinVars.HOME</code>.</p>
<p><code>TatinVars</code> holds more potentially important data; details are discussed at <a href="#tatin-variables" class="bookmark_link">Tatin Variables</a>.</p>
<p>What else lives in <code>#._tatin</code>?</p>
<pre tabindex="0"><code>      #._tatin.⎕nl 9
aplteam_APLTreeUtils2_1_1_1
aplteam_FilesAndDirs_5_0_1
aplteam_MarkAPL_11_0_1
aplteam_OS_3_0_1</code></pre>
<p>All packages, whether principal ones or dependencies, are stored in <code>#._tatin</code>. For the principal packages a reference is injected into the target namespace, in our case <code>#.Foo</code>.</p>
<p>Note that by naming convention packages are always loaded into either <code>#._tatin</code> or <code>⎕SE._tatin</code>.</p>
<div class="h_tag">
<a href="#installing-several-packages-at-once" id="installing-several-packages-at-once" class="autoheader_anchor">
<h3 data-id="Installing-several-packages-at-once">4.3. Installing several packages at once</h3>
</a>
</div>
<p>Note that <code>InstallPackages</code> accepts several package IDs, separated by commas:</p>
<pre tabindex="0"><code>      ]tatin.InstallPackages Tester2,MarkAPL,Laguntza /Foo/packages</code></pre>
<p>This will load three packages and all their dependencies at once. You might find this significantly faster than installing them one-by-one.</p>
<div class="h_tag">
<a href="#checking-out-a-package-loadpackages" id="checking-out-a-package-loadpackages" class="autoheader_anchor">
<h3 data-id="Checking-out-a-package-LoadPackages">4.4. Checking out a package: <code>LoadPackages</code></h3>
</a>
</div>
<p>Let's assume that before actually installing it, you first want to check whether the package <code>MarkAPL</code> suits your needs. In this case you might not want to install it (yet) but just to load it into the workspace.</p>
<p>That can be achieved with the <code>LoadPackages</code> user command. It loads the package into the workspace.</p>
<p>Notes:</p>
<ul>
<li>Loading a package in this way has one major purpose: to investigate it.</li>
<li>Loading a package might well be different from installing a package: when loading a package the precise versions of dependency packages will be loaded, but when a package is installed that is not necessarily the case.
<p>This is discussed in the paper <code>TatinsLoadAndUpdateStrategy.html</code></p></li>
</ul>
<p>Let's load the <code>MarkAPL</code> package into the workspace; for that we need to specify a URL and optionally a target namespace:</p>
<pre tabindex="0"><code>      ]tatin.LoadPackages [tatin]MarkAPL -verbose
  Attempting to install https://tatin.dev/aplteam-MarkAPL-10.0.0...
  Establish dependencies...
  4 dependencies identified
  Fetching https://tatin.dev/aplteam-MarkAPL-10.0.0...
  Unzipping C:\Users\username\AppData\Local\Temp\...
  Add aplteam-MarkAPL-10.0.0 to dependency file...
  Fetching https://tatin.dev/aplteam-APLTreeUtils2-1.1.0...
  ...</code></pre>
<div class="leanpub">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="[title]" width="20px" height="20px" viewBox="0 0 20 20" preserveAspectRatio="xMidYMid meet"><title>Information</title><g transform="translate(0,20) scale(0.1,-0.1)" fill="#000000" stroke="none"><path d="M0 100 l0 -100 105 0 105 0 0 100 0 100 -105 0 -105 0 0 -100z m190 0 l0 -80 -85 0 -85 0 0 80 0 80 85 0 85 0 0 -80z"/><path d="M90 140 c0 -5 7 -10 15 -10 8 0 15 5 15 10 0 6 -7 10 -15 10 -8 0 -15 -4 -15 -10z"/> <path d="M90 80 c0 -20 5 -30 15 -30 10 0 15 10 15 30 0 20 -5 30 -15 30 -10 0 -15 -10 -15 -30z"/></g></svg>
<div>
<p>Without <code>-verbose</code> the command is taciturn:</p>
<pre tabindex="0"><code>]tatin.LoadPackages [tatin]MarkAPL
4 packages (including dependencies) loaded</code></pre>
</div>
</div>

<p>Here we did not specify a target namespace, so the package was loaded into <code>#</code>. In case the target namespace is something like <code>#.MyTests</code> then it may or may not exist. If it does not, Tatin will create it.</p>
<p>Tatin has created a reference named <code>MarkAPL</code> in the target namespace <code>#</code>:</p>
<pre tabindex="0"><code>      #.⎕nl ⍳16
MarkAPL
_tatin</code></pre>
<p>That reference points to the namespace that holds the package as such, which is loaded into <code>_tatin</code>: this is the namespace Tatin uses to manage all packages.</p>
<div class="leanpub">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="[title]" width="20px" height="20px" viewBox="0 0 20 20" preserveAspectRatio="xMidYMid meet"><title>Information</title><g transform="translate(0,20) scale(0.1,-0.1)" fill="#000000" stroke="none"><path d="M0 100 l0 -100 105 0 105 0 0 100 0 100 -105 0 -105 0 0 -100z m190 0 l0 -80 -85 0 -85 0 0 80 0 80 85 0 85 0 0 -80z"/><path d="M90 140 c0 -5 7 -10 15 -10 8 0 15 5 15 10 0 6 -7 10 -15 10 -8 0 -15 -4 -15 -10z"/> <path d="M90 80 c0 -20 5 -30 15 -30 10 0 15 10 15 30 0 20 -5 30 -15 30 -10 0 -15 -10 -15 -30z"/></g></svg>
<div>
<p>The name <code>_tatin</code> is hard-coded and <em>cannot</em> be changed.</p>
</div>
</div>

<p>The name of the namespace carries the version number:</p>
<pre tabindex="0"><code>      #.MarkAPL
#._tatin.aplteam_MarkAPL_10_0_0</code></pre>
<p><code>_tatin</code> also contains all the packages <code>MarkAPL</code> depends on:</p>
<pre tabindex="0"><code>      #._tatin.⎕nl ⍳16
aplteam_APLTreeUtils2_1_1_0
aplteam_FilesAndDirs_5_0_0
aplteam_MarkAPL_10_0_0
aplteam_OS_3_0_0</code></pre>
<p>No matter whether the APL code of a package is a single function (or operator) or a bunch of functions and operators or a single namespace (ordinary or scripted) or a bunch of namespaces or a single class or a bunch of classes or a mixture of all these APL objects, they are going to live in the top namespace of a package.</p>
<p>But Tatin will also inject references into that namespace pointing to the dependencies, therefore:</p>
<pre tabindex="0"><code>      #._tatin.aplteam_MarkAPL_11_0_0.⎕nl⍳16
APLTreeUtils2
FilesAndDirs
MarkAPL</code></pre>
<p><code>MarkAPL</code> is the package we asked for. It depends on two packages, <code>APLTreeUtils2</code> and <code>FilesAndDirs</code>. For these two packages references are injected. <code>FilesAndDirs</code> depends on <code>OS</code> but because that is not required by <code>MarkAPL</code>, no reference to <code>OS</code> is injected into <code>aplteam_MarkAPL_11_0_0.</code>, but you would find such a reference in <code>#._tatin.aplteam_FilesAndDirs_5_0_1</code>.</p>
<div class="h_tag">
<a href="#misc" id="misc" class="autoheader_anchor">
<h3 data-id="Misc">4.5. Misc</h3>
</a>
</div>
<div class="h_tag">
<a href="#scanning-registries" id="scanning-registries" class="autoheader_anchor">
<h4 data-id="Scanning-Registries">4.5.1. Scanning Registries</h4>
</a>
</div>
<p>The fact that Tatin scans Registries in order to find a package can be put to good use when developing packages: you can run your own Tatin server on, say, your own machine, and give it the highest priority. You can then publish new versions of a package on that server first.</p>
<p>That way Tatin would find the package on your local machine even when they are not loaded as principal packages but just as dependencies.</p>
<p>Later, when the package is ready, you could publish it to, say, the principal Tatin server on <code>https://tatin.dev</code>, and — don't forget that step! — delete it from your local Registry.</p>
<div class="leanpub_A">
<h3>Having the same package in more than one Registry</h3>
<p>In case you juggle with the same package in several Registries you might well be interested in getting a full list. The <code>]ListPackages</code> user command has a syntax for this:</p>
<pre tabindex="0"><code>      ]ListVersions [*]example-versions</code></pre>
<p>This would check all known Registries with a priority greater than 0 for <code>example-versions</code>, and list all hits.</p>
</div>

<p>The fact that Registries with a priority of <code>0</code> are not scanned by Tatin allows you to include a Registry like <code>https://test.tatin.dev</code> in your user settings. You don't really want that Registry to participate in a scan, but that way you can still execute commands like <code>]tatin.ListPackages</code> etc. on it.</p>
<div class="leanpub_A">
<h3>Scanning for dependencies</h3>
<p>Note that Tatin does not only scan all known Registries with a priority greater than zero for principal packages, it also scans all those Registries for dependencies as well.</p>
</div>

<div class="h_tag">
<a href="#deprecated-packages" id="deprecated-packages" class="autoheader_anchor">
<h4 data-id="Deprecated-packages">4.5.2. Deprecated packages</h4>
</a>
</div>
<p>Every piece of software will become obsolete one day. Packages are no exception. If a package is not needed anymore, or is obsolete because there is a better one available, it's time to mark it as deprecated.</p>
<p>This can be done with the user command <code>]Tatin.DeprecatePackage</code>. In short what the user command does is to publish the latest version available yet as a new version with an increased minor version number and an injected flag <code>deprecated←1</code></p>
<div class="leanpub_A">
<h3>Deleting versus deprecating packages</h3>
<p>Depending on the delete policy operated on a server you might as well delete all obsolete packages, but we discourage you from doing so.</p>
<p>The reason is that one of Tatin's design goals was to make a build 100% reproducible. This is only achievable if packages are not deleted from a server. That's the reason why the principal Tatin Registry operates a non-delete policy.</p>
</div>

<p>For example, let's assume these three packages are published:</p>
<pre tabindex="0"><code>aplteam-Foo-1.0.0
aplteam-Foo-1.1.0
aplteam-Foo-1.1.1</code></pre>
<p>Executing:</p>
<pre tabindex="0"><code>]Tatin.DeprecatePackage https://your-Registry/aplteam-Foo-1</code></pre>
<p>will publish a new version <code>aplteam-Foo-1.2.0</code> which is almost identical with version 1.1.1 except that it has two additional properties in its config file: <code>deprecated</code> with the value 1 and <code>deprecate_comment</code> which carries the comment in case you've specified one with <code>-comment=</code>; this should be used to explain why a package got marked as deprecated, so it will be something along the lines of “See package Foo-Boo”.</p>
<p>From now on both the “Packages” web page and <code>]Tatin.ListPackages</code> won't list these four packages anymore.</p>
<p>Note that <code>]Tatin.ListDeprecated</code> is designed to list just the deprecated packages. If you want the list to include also the earlier versions — which are now sort of hidden by 1.2.0 — then you need to specify the <code>-all</code> flag.</p>
<p>With <code>-all</code> a matrix with two columns rather than one is returned, with the second column carrying an asterisk for those packages that actually do carry <code>deprecated←1</code> in their config file. That would be at least the very last one.</p>
<div class="h_tag">
<a href="#side-effects-of-deprecating-a-package" id="side-effects-of-deprecating-a-package" class="autoheader_anchor">
<h5 data-id="Side-effects-of-deprecating-a-package">4.5.2.1. Side effects of deprecating a package</h5>
</a>
</div>
<p>If you try to load or install a package that is marked as deprecated then you will be asked whether you really want that, but if you insist then you will get what you asked for.</p>
<p>Note however that this is only true when you ask explicitly for the last package (the one with <code>deprecated←1</code>).</p>
<p>In our example that would be:</p>
<pre tabindex="0"><code>]Tatin.LoadPackages https://your-registry/aplteam-Foo-1</code></pre>
<p>This statement:</p>
<pre tabindex="0"><code>]Tatin.LoadPackages https://your-registry/aplteam-Foo</code></pre>
<p>would yield the same result, but only because there is just one major version anyway.</p>
<p>If you ask <em>explicitly</em> for an <em>earlier</em> version than the deprecated one, then that version would be loaded (or installed) without further ado, because Tatin would just assume that you know what you are doing.</p>
<p>Note that the API functions for loading / installing packages would not complain or warn you at all.</p>
<div class="leanpub_A">
<h3>Mistakenly deprecated a package?</h3>
<p>There is an easy escape route: just publish the package again with an increased minor version number but <code>deprecated</code> either set to 0 or removed from the config file, and the package is back on track.</p>
<p>If <code>deprecate_comment</code> was not empty then that should be removed or emptied.</p>
<p>Once you've done that the very latest published package would no longer carry a “deprecated” flag with the value 1, and therefore it would no longer fulfil the criteria of a deprecated package.</p>
</div>

<div class="h_tag">
<a href="#tatin-variables" id="tatin-variables" class="autoheader_anchor">
<h4 data-id="Tatin-Variables">4.5.3. Tatin Variables</h4>
</a>
</div>
<p>For every package Tatin will establish a couple of constants. Because APL has no concept of constants, they are emulated via niladic functions.</p>
<p>They are injected into a namespace <code>TatinVars</code> which in turn is injected into the top package namespace.</p>
<div class="leanpub">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" role="img" aria-label=[title]" width="20px" height="20px" viewBox="0 0 20 20" preserveAspectRatio="xMidYMid meet"><title>Warning</title><g transform="translate(0,20) scale(0.1,-0.1)" fill="#000000" stroke="none"><path d="M177 166 c-3 -8 -34 -18 -74 -25 -101 -17 -103 -19 -103 -52 0 -16 4 -29 9 -29 5 0 11 -10 13 -22 2 -19 10 -24 41 -26 28 -2 37 1 37 12 0 12 7 14 33 10 17 -4 37 -13 43 -20 21 -26 24 -15 24 76 0 82 -9 112 -23 76z m3 -80 l0 -44 -77 17 c-97 20 -104 40 -23 57 98 21 100 20 100 -30z m-105 -46 c3 -6 -3 -10 -14 -10 -12 0 -21 5 -21 10 0 6 6 10 14 10 8 0 18 -4 21 -10z"/></g></svg>
<div>
<p>Of course this means that theoretically there could be a name clash, but then the name <code>TatinVars</code> should certainly not be used by any package author.</p>
</div>
</div>

<p>Strictly speaking <code>TatinVars</code> is a misnomer because the namespace carries just functions, and not a single variable, but all but one of those act as constants, and the exception <code>GetFullPath2-AssetsFolder</code> was introduced at a later stage, so it was decided to stick with the name <code>TatinVars</code> for compatability.</p>
<p>Note that we refer to, say, <code>HOME</code> as a character vector because the niladic function <code>HOME</code> returns a character vector.</p>
<div class="h_tag">
<a href="#assets" id="assets" class="autoheader_anchor">
<h5 data-id="ASSETS">4.5.3.1. ASSETS</h5>
</a>
</div>
<p>The path to the package's assets relative to <code>HOME</code>. Is empty in case there are no assets.</p>
<p>See also the <a href="#getfullpath2assetsfolder" class="bookmark_link">GetFullPath2AssetsFolder</a> function.</p>
<div class="h_tag">
<a href="#config" id="config" class="autoheader_anchor">
<h5 data-id="CONFIG">4.5.3.2. CONFIG</h5>
</a>
</div>
<p>This is a simple character vector that stems from the file <code>apl-package.json</code> of the given package.</p>
<div class="h_tag">
<a href="#dependencies" id="dependencies" class="autoheader_anchor">
<h5 data-id="DEPENDENCIES">4.5.3.3. DEPENDENCIES</h5>
</a>
</div>
<p>A vector of character vectors with the package IDs of the packages the package in question depends on.</p>
<div class="h_tag">
<a href="#getfullpath2assetsfolder" id="getfullpath2assetsfolder" class="autoheader_anchor">
<h5 data-id="GetFullPath2AssetsFolder">4.5.3.4. GetFullPath2AssetsFolder</h5>
</a>
</div>
<p>This is a function which returns the result of the expression <code>HOME,'/',ASSETS</code> if both <code>HOME</code> and <code>ASSETS</code> are not empty <em>and</em> <code>HOME</code> exists on disk. If <code>HOME</code> is empty or does not exist on disk then just <code>ASSETS</code> is returned.</p>
<p>When accessing assets you are advised to always use the <code>GetFullPath2AssetsFolder</code> function. Why? Imagine the following scenario as an example: you've loaded packages into a clear workspace, set <code>⎕WSID</code> and then saved that WS. Later you make sure that the assets folder of the package becomes a sibling of the workspace. You might than move the WS with the assets folder elsewhere, even to a different machine. The expression <code>HOME,'/',ASSETS</code> would then fail.</p>
<p>But the function <code>GetFullPath2AssetsFolder</code> would not find <code>HOME</code> and therefore return just <code>ASSETS</code>, and that allows you to still access the assets sucessfully, assuming that you changed the current directory to where the workspace was loaded from.</p>
<div class="h_tag">
<a href="#home" id="home" class="autoheader_anchor">
<h5 data-id="HOME">4.5.3.5. HOME</h5>
</a>
</div>
<p>Is a character vector holding the path of a folder that hosts the package.</p>
<p>There is an exception: when the package was brought into the workspace with <code>LoadPackages</code> rather than <code>LoadDependencies</code> that has no assets. This is because without assets <code>LoadPackages</code> loads the package into a temp folder, brings the package into the WS and then deletes the temp folder, because without assets there is no need to leave a footprint behind.</p>
<p>In this case <code>HOME</code> is set to <code>''</code>.</p>
<div class="h_tag">
<a href="#id" id="id" class="autoheader_anchor">
<h5 data-id="ID">4.5.3.6. ID</h5>
</a>
</div>
<p>The full package name. This will include a build ID if there is any, so it is not necessarily identical with the package ID.</p>
<div class="h_tag">
<a href="#lx" id="lx" class="autoheader_anchor">
<h5 data-id="LX">4.5.3.7. LX</h5>
</a>
</div>
<p>In a package config file a function can be defined on the <code>lx</code> parameter. Such a function would be executed after the package was loaded. The purpose of the function is to perform some sort of initialisation.</p>
<p>If such a function returns a result then it is assigned to <code>LX</code> in the <code>TatinVars</code> namespace.</p>
<p>Note that <code>LX</code> does not exist in case no such function is defined, or the function did not return a result.</p>
<div class="h_tag">
<a href="#uri" id="uri" class="autoheader_anchor">
<h5 data-id="URI">4.5.3.8. URI</h5>
</a>
</div>
<p>Character vector that holds the address of a Tatin server the package was loaded from, or the full name of a ZIP file.</p>

<script>

// Adds a "Copy" button to every code block & established the event handler
const copyButtonLabel = " Copy " ;

let blocks = document.querySelectorAll("pre");

blocks.forEach((block) => {
  if (navigator.clipboard) {
    let button = document.createElement("button");

    button.innerText = copyButtonLabel;
    button.title = "Copies the code block to the clipboard.";
    block.appendChild(button);
     
    button.addEventListener("click", async () => {
      await copyCode(block, button);
    });
  }  
});  

async function copyCode(block, button) {
  let code = block.querySelector("code");
  let text = code.innerText;

  await navigator.clipboard.writeText(text);

  button.innerText = " Copied ";

  setTimeout(() => {
    button.innerText = copyButtonLabel;
  }, 700);
}


// Toggle the visibility of the TOC when the "Hide/Show" button is clicked
const button = document.querySelector("#toc-toggle");
const content = document.querySelector("#toc-list");
button.addEventListener("click", toggleTableOfContents);
function toggleTableOfContents() {
  content.classList.toggle("hide");
  if (button.innerText === "Hide") {
    button.innerText = "Show";
    button.setAttribute("aria-expanded", false);
  } else {
    button.innerText = "Hide";
    button.setAttribute("aria-expanded", true);
  }
}

</script>

</body>
</html>
